import{r as o,R as i,c as S,d as ie,D as fe,L as me}from"./app-D2e3E3XV.js";import{u as de,a$ as pe,Q as ge,b2 as xe,af as Ce,i as he,ak as we,a4 as Se,j as be,ag as ve,aw as Ee,ax as ue,a0 as le,aj as $e}from"./AdminSidebarLayout-COqDSJm5.js";import{u as ye,B as Re,r as ce,g as Ne}from"./getAllowClear-BoT9aE4f.js";function U(){return U=Object.assign?Object.assign.bind():function(s){for(var d=1;d<arguments.length;d++){var f=arguments[d];for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(s[l]=f[l])}return s},U.apply(this,arguments)}const Ie=o.forwardRef((s,d)=>{const{autoComplete:f,onChange:l,onFocus:c,onBlur:b,onPressEnter:v,onKeyDown:m,onKeyUp:E,prefixCls:p="rc-input",disabled:R,htmlSize:M,className:H,maxLength:_,suffix:O,showCount:q,count:K,type:B="text",classes:G,classNames:g,styles:x,onCompositionStart:T,onCompositionEnd:C,...J}=s,[X,V]=o.useState(!1),L=o.useRef(!1),h=o.useRef(!1),n=o.useRef(null),t=o.useRef(null),N=e=>{n.current&&pe(n.current,e)},[I,$]=de(s.defaultValue,s.value),j=I==null?"":String(I),[k,Y]=o.useState(null),r=ye(K,q),y=r.max||_,F=r.strategy(j),Z=!!y&&F>y;o.useImperativeHandle(d,()=>{var e;return{focus:N,blur:()=>{var a;(a=n.current)==null||a.blur()},setSelectionRange:(a,A,w)=>{var u;(u=n.current)==null||u.setSelectionRange(a,A,w)},select:()=>{var a;(a=n.current)==null||a.select()},input:n.current,nativeElement:((e=t.current)==null?void 0:e.nativeElement)||n.current}}),o.useEffect(()=>{h.current&&(h.current=!1),V(e=>e&&R?!1:e)},[R]);const P=(e,a,A)=>{var u,oe;let w=a;if(!L.current&&r.exceedFormatter&&r.max&&r.strategy(a)>r.max)w=r.exceedFormatter(a,{max:r.max}),a!==w&&Y([((u=n.current)==null?void 0:u.selectionStart)||0,((oe=n.current)==null?void 0:oe.selectionEnd)||0]);else if(A.source==="compositionEnd")return;$(w),n.current&&ce(n.current,e,l,w)};o.useEffect(()=>{var e;k&&((e=n.current)==null||e.setSelectionRange(...k))},[k]);const W=e=>{P(e,e.target.value,{source:"change"})},ee=e=>{L.current=!1,P(e,e.currentTarget.value,{source:"compositionEnd"}),C==null||C(e)},z=e=>{v&&e.key==="Enter"&&!h.current&&!e.nativeEvent.isComposing&&(h.current=!0,v(e)),m==null||m(e)},te=e=>{e.key==="Enter"&&(h.current=!1),E==null||E(e)},Q=e=>{V(!0),c==null||c(e)},se=e=>{h.current&&(h.current=!1),V(!1),b==null||b(e)},D=e=>{$(""),N(),n.current&&ce(n.current,e,l)},re=Z&&`${p}-out-of-range`,ae=()=>{const e=ge(s,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return i.createElement("input",U({autoComplete:f},e,{onChange:W,onFocus:Q,onBlur:se,onKeyDown:z,onKeyUp:te,className:S(p,{[`${p}-disabled`]:R},g==null?void 0:g.input),style:x==null?void 0:x.input,ref:n,size:M,type:B,onCompositionStart:a=>{L.current=!0,T==null||T(a)},onCompositionEnd:ee}))},ne=()=>{const e=Number(y)>0;if(O||r.show){const a=r.showFormatter?r.showFormatter({value:j,count:F,maxLength:y}):`${F}${e?` / ${y}`:""}`;return i.createElement(i.Fragment,null,r.show&&i.createElement("span",{className:S(`${p}-show-count-suffix`,{[`${p}-show-count-has-suffix`]:!!O},g==null?void 0:g.count),style:{...x==null?void 0:x.count}},a),O)}return null};return i.createElement(Re,U({},J,{prefixCls:p,className:S(H,re),handleReset:D,value:j,focused:X,triggerFocus:N,suffix:ne(),disabled:R,classes:G,classNames:g,styles:x,ref:t}),ae())});function Fe(s,d){const f=o.useRef([]),l=()=>{f.current.push(setTimeout(()=>{var c,b,v,m;(c=s.current)!=null&&c.input&&((b=s.current)==null?void 0:b.input.getAttribute("type"))==="password"&&((v=s.current)!=null&&v.input.hasAttribute("value"))&&((m=s.current)==null||m.input.removeAttribute("value"))}))};return o.useEffect(()=>(d&&l(),()=>f.current.forEach(c=>{c&&clearTimeout(c)})),[]),l}function Pe(s){return!!(s.prefix||s.suffix||s.allowClear||s.showCount)}const Be=o.forwardRef((s,d)=>{const{prefixCls:f,bordered:l=!0,status:c,size:b,disabled:v,onBlur:m,onFocus:E,suffix:p,allowClear:R,addonAfter:M,addonBefore:H,className:_,style:O,styles:q,rootClassName:K,onChange:B,classNames:G,variant:g,...x}=s,{getPrefixCls:T,direction:C,allowClear:J,autoComplete:X,className:V,style:L,classNames:h,styles:n}=ie("input"),t=T("input",f),N=o.useRef(null),I=he(t),[$,j]=xe(t,K);Ce(t,I);const{compactSize:k,compactItemClassnames:Y}=we(t,C),r=Se(u=>b??k??u),y=i.useContext(fe),F=v??y,Z={...s,size:r,disabled:F},[P,W]=be([h,G],[n,q],{props:Z}),{status:ee,hasFeedback:z,feedbackIcon:te}=o.useContext(ve),Q=$e(ee,c),se=Pe(s)||!!z;o.useRef(se);const D=Fe(N,!0),re=u=>{D(),m==null||m(u)},ae=u=>{D(),E==null||E(u)},ne=u=>{D(),B==null||B(u)},e=(z||p)&&i.createElement(i.Fragment,null,p,z&&te),a=Ne(R??J),[A,w]=Ee("input",g,l);return i.createElement(Ie,{ref:me(d,N),prefixCls:t,autoComplete:X,...x,disabled:F,onBlur:re,onFocus:ae,style:{...W.root,...L,...O},styles:W,suffix:e,allowClear:a,className:S(_,K,j,I,Y,V,P.root),onChange:ne,addonBefore:H&&i.createElement(le,{form:!0,space:!0},H),addonAfter:M&&i.createElement(le,{form:!0,space:!0},M),classNames:{...P,input:S({[`${t}-sm`]:r==="small",[`${t}-lg`]:r==="large",[`${t}-rtl`]:C==="rtl"},P.input,$),variant:S({[`${t}-${A}`]:w},ue(t,Q)),affixWrapper:S({[`${t}-affix-wrapper-sm`]:r==="small",[`${t}-affix-wrapper-lg`]:r==="large",[`${t}-affix-wrapper-rtl`]:C==="rtl"},$),wrapper:S({[`${t}-group-rtl`]:C==="rtl"},$),groupWrapper:S({[`${t}-group-wrapper-sm`]:r==="small",[`${t}-group-wrapper-lg`]:r==="large",[`${t}-group-wrapper-rtl`]:C==="rtl",[`${t}-group-wrapper-${A}`]:w},ue(`${t}-group-wrapper`,Q,z),$)}})});export{Be as I,Fe as u};
