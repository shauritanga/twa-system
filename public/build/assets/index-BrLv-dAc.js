import{x as ve,K as $e,c as Se,m as be,L as oe,M as ke,h as ue,i as me,$ as Re,n as we,U as B,V as Ie,X as Me,t as Pe,Y as Oe,_ as Ae}from"./AdminSidebarLayout-DNChDxSB.js";import{r as o,c as A,R as P,B as Fe,u as Te,g as He,e as de,f as pe,p as Le,s as De,q as _e}from"./app-BCoYgWpy.js";import{R as Ke}from"./CheckCircleFilled-DuKIAkof.js";import{a as je}from"./index-sjOIDGU-.js";import{R as We,a as Ge}from"./InfoCircleFilled-BB_XiD_I.js";import{C as Ue}from"./CSSMotionList-D0-oo0HB.js";function Y(){return Y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Y.apply(this,arguments)}const ge=o.forwardRef((t,e)=>{const{prefixCls:s,style:n,className:a,duration:f=4.5,showProgress:d,pauseOnHover:E=!0,eventKey:g,content:m,closable:u,props:r,onClick:h,onNoticeClose:x,times:y,hovering:C}=t,[p,v]=o.useState(!1),[$,i]=o.useState(0),[c,l]=o.useState(0),b=C||p,N=typeof f=="number"?f:0,k=N>0&&d,w=()=>{x(g)},_=R=>{(R.key==="Enter"||R.code==="Enter"||R.keyCode===$e.ENTER)&&w()};o.useEffect(()=>{if(!b&&N>0){const R=Date.now()-c,I=setTimeout(()=>{w()},N*1e3-c);return()=>{E&&clearTimeout(I),l(Date.now()-R)}}},[N,b,y]),o.useEffect(()=>{if(!b&&k&&(E||c===0)){const R=performance.now();let I;const T=()=>{cancelAnimationFrame(I),I=requestAnimationFrame(D=>{const G=D+c-R,H=Math.min(G/(N*1e3),1);i(H*100),H<1&&T()})};return T(),()=>{E&&cancelAnimationFrame(I)}}},[N,c,b,k,y]);const W=o.useMemo(()=>typeof u=="object"&&u!==null?u:{},[u]),K=ve(W,!0),F=100-(!$||$<0?0:$>100?100:$),S=`${s}-notice`;return o.createElement("div",Y({},r,{ref:e,className:A(S,a,{[`${S}-closable`]:u}),style:n,onMouseEnter:R=>{var I;v(!0),(I=r==null?void 0:r.onMouseEnter)==null||I.call(r,R)},onMouseLeave:R=>{var I;v(!1),(I=r==null?void 0:r.onMouseLeave)==null||I.call(r,R)},onClick:h}),o.createElement("div",{className:`${S}-content`},m),u&&o.createElement("button",Y({className:`${S}-close`,onKeyDown:_,"aria-label":"Close"},K,{onClick:R=>{R.preventDefault(),R.stopPropagation(),w()}}),W.closeIcon??"x"),k&&o.createElement("progress",{className:`${S}-progress`,max:"100",value:F},F+"%"))}),ye=P.createContext({}),Xe=({children:t,classNames:e})=>P.createElement(ye.Provider,{value:{classNames:e}},t),re=8,ae=3,ce=16,ze=t=>{const e={offset:re,threshold:ae,gap:ce};return t&&typeof t=="object"&&(e.offset=t.offset??re,e.threshold=t.threshold??ae,e.gap=t.gap??ce),[!!t,e]};function Q(){return Q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Q.apply(this,arguments)}const Be=t=>{const{configList:e,placement:s,prefixCls:n,className:a,style:f,motion:d,onAllNoticeRemoved:E,onNoticeClose:g,stack:m}=t,{classNames:u}=o.useContext(ye),r=o.useRef({}),[h,x]=o.useState(null),[y,C]=o.useState([]),p=e.map(N=>({config:N,key:String(N.key)})),[v,{offset:$,threshold:i,gap:c}]=ze(m),l=v&&(y.length>0||p.length<=i),b=typeof d=="function"?d(s):d;return o.useEffect(()=>{v&&y.length>1&&C(N=>N.filter(k=>p.some(({key:w})=>k===w)))},[y,p,v]),o.useEffect(()=>{var N,k;v&&r.current[(N=p[p.length-1])==null?void 0:N.key]&&x(r.current[(k=p[p.length-1])==null?void 0:k.key])},[p,v]),P.createElement(Ue,Q({key:s,className:A(n,`${n}-${s}`,u==null?void 0:u.list,a,{[`${n}-stack`]:!!v,[`${n}-stack-expanded`]:l}),style:f,keys:p,motionAppear:!0},b,{onAllRemoved:()=>{E(s)}}),({config:N,className:k,style:w,index:_},W)=>{var Z,ee,te,ne;const{key:K,times:F}=N,S=String(K),{className:R,style:I,classNames:T,styles:D,...G}=N,H=p.findIndex(M=>M.key===S),L={};if(v){const M=p.length-1-(H>-1?H:_-1),z=s==="top"||s==="bottom"?"-50%":"0";if(M>0){L.height=l?(Z=r.current[S])==null?void 0:Z.offsetHeight:h==null?void 0:h.offsetHeight;let se=0;for(let q=0;q<M;q++)se+=((ee=r.current[p[p.length-1-q].key])==null?void 0:ee.offsetHeight)+c;const Ne=(l?se:M*$)*(s.startsWith("top")?1:-1),Ee=!l&&(h!=null&&h.offsetWidth)&&((te=r.current[S])!=null&&te.offsetWidth)?((h==null?void 0:h.offsetWidth)-$*2*(M<3?M:3))/((ne=r.current[S])==null?void 0:ne.offsetWidth):1;L.transform=`translate3d(${z}, ${Ne}px, 0) scaleX(${Ee})`}else L.transform=`translate3d(${z}, 0, 0)`}return P.createElement("div",{ref:W,className:A(`${n}-notice-wrapper`,k,T==null?void 0:T.wrapper),style:{...w,...L,...D==null?void 0:D.wrapper},onMouseEnter:()=>C(M=>M.includes(S)?M:[...M,S]),onMouseLeave:()=>C(M=>M.filter(z=>z!==S))},P.createElement(ge,Q({},G,{ref:M=>{H>-1?r.current[S]=M:delete r.current[S]},prefixCls:n,classNames:T,styles:D,className:A(R,u==null?void 0:u.notice),style:I,times:F,key:K,eventKey:K,onNoticeClose:g,hovering:v&&y.length>0})))})},Ye=o.forwardRef((t,e)=>{const{prefixCls:s="rc-notification",container:n,motion:a,maxCount:f,className:d,style:E,onAllRemoved:g,stack:m,renderNotifications:u}=t,[r,h]=o.useState([]),x=i=>{var k;const c=r.find(w=>w.key===i),l=c==null?void 0:c.closable,b=l&&typeof l=="object"?l:{},{onClose:N}=b;N==null||N(),(k=c==null?void 0:c.onClose)==null||k.call(c),h(w=>w.filter(_=>_.key!==i))};o.useImperativeHandle(e,()=>({open:i=>{h(c=>{var k;let l=[...c];const b=l.findIndex(w=>w.key===i.key),N={...i};return b>=0?(N.times=(((k=c[b])==null?void 0:k.times)||0)+1,l[b]=N):(N.times=0,l.push(N)),f>0&&l.length>f&&(l=l.slice(-f)),l})},close:i=>{x(i)},destroy:()=>{h([])}}));const[y,C]=o.useState({});o.useEffect(()=>{const i={};r.forEach(c=>{const{placement:l="topRight"}=c;l&&(i[l]=i[l]||[],i[l].push(c))}),Object.keys(y).forEach(c=>{i[c]=i[c]||[]}),C(i)},[r]);const p=i=>{C(c=>{const l={...c};return(l[i]||[]).length||delete l[i],l})},v=o.useRef(!1);if(o.useEffect(()=>{Object.keys(y).length>0?v.current=!0:v.current&&(g==null||g(),v.current=!1)},[y]),!n)return null;const $=Object.keys(y);return Fe.createPortal(o.createElement(o.Fragment,null,$.map(i=>{const c=y[i],l=o.createElement(Be,{key:i,configList:c,placement:i,prefixCls:s,className:d==null?void 0:d(i),style:E==null?void 0:E(i),motion:a,onNoticeClose:x,onAllNoticeRemoved:p,stack:m});return u?u(l,{prefixCls:s,key:i}):l})),n)}),Qe=()=>document.body;let le=0;function Ve(...t){const e={};return t.forEach(s=>{s&&Object.keys(s).forEach(n=>{const a=s[n];a!==void 0&&(e[n]=a)})}),e}function qe(t={}){const{getContainer:e=Qe,motion:s,prefixCls:n,maxCount:a,className:f,style:d,onAllRemoved:E,stack:g,renderNotifications:m,...u}=t,[r,h]=o.useState(),x=o.useRef(),y=o.createElement(Ye,{container:r,ref:x,prefixCls:n,motion:s,maxCount:a,className:f,style:d,onAllRemoved:E,stack:g,renderNotifications:m}),[C,p]=o.useState([]),v=Te(i=>{const c=Ve(u,i);(c.key===null||c.key===void 0)&&(c.key=`rc-notification-${le}`,le+=1),p(l=>[...l,{type:"open",config:c}])}),$=o.useMemo(()=>({open:v,close:i=>{p(c=>[...c,{type:"close",key:i}])},destroy:()=>{p(i=>[...i,{type:"destroy"}])}}),[]);return o.useEffect(()=>{h(e())}),o.useEffect(()=>{if(x.current&&C.length){C.forEach(l=>{switch(l.type){case"open":x.current.open(l.config);break;case"close":x.current.close(l.key);break;case"destroy":x.current.destroy();break}});let i,c;p(l=>((i!==l||!c)&&(i=l,c=l.filter(b=>!C.includes(b))),c))}},[C]),[$,y]}const Je=t=>{const{componentCls:e,iconCls:s,boxShadow:n,colorText:a,colorSuccess:f,colorError:d,colorWarning:E,colorInfo:g,fontSizeLG:m,motionEaseInOutCirc:u,motionDurationSlow:r,marginXS:h,paddingXS:x,borderRadiusLG:y,zIndexPopup:C,contentPadding:p,contentBg:v}=t,$=`${e}-notice`,i=new oe("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:x,transform:"translateY(0)",opacity:1}}),c=new oe("MessageMoveOut",{"0%":{maxHeight:t.height,padding:x,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),l={padding:x,textAlign:"center",[`${e}-custom-content`]:{display:"flex",alignItems:"center"},[`${e}-custom-content > ${s}`]:{marginInlineEnd:h,fontSize:m},[`${$}-content`]:{display:"inline-block",padding:p,background:v,borderRadius:y,boxShadow:n,pointerEvents:"all"},[`${e}-success > ${s}`]:{color:f},[`${e}-error > ${s}`]:{color:d},[`${e}-warning > ${s}`]:{color:E},[`${e}-info > ${s},
      ${e}-loading > ${s}`]:{color:g}};return[{[e]:{...He(t),color:a,position:"fixed",top:h,width:"100%",pointerEvents:"none",zIndex:C,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:i,animationDuration:r,animationPlayState:"paused",animationTimingFunction:u},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:c,animationDuration:r,animationPlayState:"paused",animationTimingFunction:u},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}}},{[e]:{[`${$}-wrapper`]:{...l}}},{[`${e}-notice-pure-panel`]:{...l,padding:0,textAlign:"start"}}]},Ze=t=>({zIndexPopup:t.zIndexPopupBase+ke+10,contentBg:t.colorBgElevated,contentPadding:`${(t.controlHeightLG-t.fontSize*t.lineHeight)/2}px ${t.paddingSM}px`}),Ce=Se("Message",t=>{const e=be(t,{height:150});return Je(e)},Ze),et={info:o.createElement(Ge,null),success:o.createElement(Ke,null),error:o.createElement(je,null),warning:o.createElement(We,null),loading:o.createElement(we,null)},he=t=>{const{prefixCls:e,type:s,icon:n,children:a,classNames:f,styles:d}=t,E=n||s&&et[s],g=Re(E,m=>{const u={...m==null?void 0:m.style,...d==null?void 0:d.icon};return{className:A(m.className,f==null?void 0:f.icon),style:u}});return o.createElement("div",{className:A(`${e}-custom-content`,`${e}-${s}`)},g,o.createElement("span",{className:f==null?void 0:f.content,style:d==null?void 0:d.content},a))},tt=t=>{const{prefixCls:e,className:s,style:n,type:a,icon:f,content:d,classNames:E,styles:g,...m}=t,{getPrefixCls:u,className:r,style:h,classNames:x,styles:y}=de("message"),C=e||u("message"),p=ue(C),[v,$]=Ce(C,p),[i,c]=me([x,E],[y,g],{props:t});return o.createElement(ge,{...m,prefixCls:C,className:A(r,i.root,s,v,`${C}-notice-pure-panel`,$,p),style:{...c.root,...h,...n},eventKey:"pure",duration:null,content:o.createElement(he,{prefixCls:C,type:a,icon:f,classNames:i,styles:c},d)})};function nt(t,e){return{motionName:e??`${t}-move-up`}}function J(t){let e;const s=new Promise(a=>{e=t(()=>{a(!0)})}),n=()=>{e==null||e()};return n.then=(a,f)=>s.then(a,f),n.promise=s,n}const st=8,ot=3,rt=({children:t,prefixCls:e})=>{const s=ue(e),[n,a]=Ce(e,s);return o.createElement(Xe,{classNames:{list:A(n,a,s)}},t)},at=(t,{prefixCls:e,key:s})=>o.createElement(rt,{prefixCls:e,key:s},t),ct=o.forwardRef((t,e)=>{const{top:s,prefixCls:n,getContainer:a,maxCount:f,duration:d=ot,rtl:E,transitionName:g,onAllRemoved:m,pauseOnHover:u=!0}=t,{getPrefixCls:r,direction:h,getPopupContainer:x}=de("message"),{message:y}=o.useContext(pe),C=n||r("message"),p=()=>({left:"50%",transform:"translateX(-50%)",top:s??st}),v=()=>A({[`${C}-rtl`]:E??h==="rtl"}),$=()=>nt(C,g),[i,c]=me([t==null?void 0:t.classNames,y==null?void 0:y.classNames],[t==null?void 0:t.styles,y==null?void 0:y.styles],{props:t}),[l,b]=qe({prefixCls:C,style:p,className:v,motion:$,closable:!1,duration:d,getContainer:()=>(a==null?void 0:a())||(x==null?void 0:x())||document.body,maxCount:f,onAllRemoved:m,renderNotifications:at,pauseOnHover:u});return o.useImperativeHandle(e,()=>({...l,prefixCls:C,message:y,classNames:i,styles:c})),b});let ie=0;function xe(t){const e=o.useRef(null);return Le(),[o.useMemo(()=>{const n=g=>{var m;(m=e.current)==null||m.close(g)},a=g=>{if(!e.current){const L=()=>{};return L.then=()=>{},L}const{open:m,prefixCls:u,message:r,classNames:h,styles:x}=e.current,y=(r==null?void 0:r.className)||{},C=(r==null?void 0:r.style)||{},p=(r==null?void 0:r.classNames)||{},v=(r==null?void 0:r.styles)||{},$=`${u}-notice`,{content:i,icon:c,type:l,key:b,className:N,style:k,onClose:w,classNames:_={},styles:W={},...K}=g;let F=b;Pe(F)||(ie+=1,F=`antd-message-${ie}`);const S={...t,...g},R=B(p,{props:S}),I=B(_,{props:S}),T=B(v,{props:S}),D=B(W,{props:S}),G=Ie(void 0,R,I,h),H=Me(T,D,x);return J(L=>(m({...K,key:F,content:o.createElement(he,{prefixCls:u,type:l,icon:c,classNames:G,styles:H},i),placement:"top",className:A({[`${$}-${l}`]:l},N,y,G.root),style:{...H.root,...C,...k},onClose:()=>{w==null||w(),L()}}),()=>{n(F)}))},d={open:a,destroy:g=>{var m;g!==void 0?n(g):(m=e.current)==null||m.destroy()}};return["info","success","warning","error","loading"].forEach(g=>{const m=(u,r,h)=>{let x;u&&typeof u=="object"&&"content"in u?x=u:x={content:u};let y,C;typeof r=="function"?C=r:(y=r,C=h);const p={onClose:C,duration:y,...x,type:g};return a(p)};d[g]=m}),d},[]),o.createElement(ct,{key:"message-holder",...t,ref:e})]}function lt(t){return xe(t)}const it=P.createContext({});let O=null,j=t=>t(),U=[],X={};function fe(){const{getContainer:t,duration:e,rtl:s,maxCount:n,top:a}=X,f=(t==null?void 0:t())||document.body;return{getContainer:()=>f,duration:e,rtl:s,maxCount:n,top:a}}const ft=P.forwardRef((t,e)=>{const{messageConfig:s,sync:n}=t,{getPrefixCls:a}=o.useContext(pe),f=X.prefixCls||a("message"),d=o.useContext(it),[E,g]=xe({...s,prefixCls:f,...d.message});return P.useImperativeHandle(e,()=>{const m={...E};return Object.keys(m).forEach(u=>{m[u]=(...r)=>(n(),E[u].apply(E,r))}),{instance:m,sync:n}}),g}),ut=P.forwardRef((t,e)=>{const[s,n]=P.useState(fe),a=()=>{n(fe)};P.useEffect(a,[]);const f=De(),d=f.getRootPrefixCls(),E=f.getIconPrefixCls(),g=f.getTheme(),m=P.createElement(ft,{ref:e,sync:a,messageConfig:s});return P.createElement(_e,{prefixCls:d,iconPrefixCls:E,theme:g},f.holderRender?f.holderRender(m):m)}),V=()=>{if(!O){const t=document.createDocumentFragment(),e={fragment:t};O=e,j(()=>{Oe(P.createElement(ut,{ref:s=>{const{instance:n,sync:a}=s||{};Promise.resolve().then(()=>{!e.instance&&n&&(e.instance=n,e.sync=a,V())})}}),t)});return}O.instance&&(U.forEach(t=>{const{type:e,skipped:s}=t;if(!s)switch(e){case"open":{j(()=>{const n=O.instance.open({...X,...t.config});n==null||n.then(t.resolve),t.setCloseFn(n)});break}case"destroy":j(()=>{O==null||O.instance.destroy(t.key)});break;default:j(()=>{var n;const a=(n=O.instance)[e].apply(n,Ae(t.args));a==null||a.then(t.resolve),t.setCloseFn(a)})}}),U=[])};function mt(t){X={...X,...t},j(()=>{var e;(e=O==null?void 0:O.sync)==null||e.call(O)})}function dt(t){const e=J(s=>{let n;const a={type:"open",config:t,resolve:s,setCloseFn:f=>{n=f}};return U.push(a),()=>{n?j(()=>{n()}):a.skipped=!0}});return V(),e}function pt(t,e){const s=J(n=>{let a;const f={type:t,args:e,resolve:n,setCloseFn:d=>{a=d}};return U.push(f),()=>{a?j(()=>{a()}):f.skipped=!0}});return V(),s}const gt=t=>{U.push({type:"destroy",key:t}),V()},yt=["success","info","warning","error","loading"],Ct={open:dt,destroy:gt,config:mt,useMessage:lt,_InternalPanelDoNotUseOrYouWillBeFired:tt},ht=Ct;yt.forEach(t=>{ht[t]=(...e)=>pt(t,e)});export{it as A,ge as N,Xe as a,ht as s,qe as u};
