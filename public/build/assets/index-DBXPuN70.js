import{r as n,g as q,e as G,c as y,u as J}from"./app-BCoYgWpy.js";import{c as K,m as O,i as Q,x as W,Z as ee,$ as te}from"./AdminSidebarLayout-DNChDxSB.js";const ne=t=>{const{value:e,formatter:o,precision:s,decimalSeparator:l,groupSeparator:f="",prefixCls:m}=t;let r;if(typeof o=="function")r=o(e);else{const a=String(e),u=a.match(/^(-?)(\d*)(\.(\d+))?$/);if(!u||a==="-")r=a;else{const x=u[1];let d=u[2]||"0",i=u[4]||"";d=d.replace(/\B(?=(\d{3})+(?!\d))/g,f),typeof s=="number"&&(i=i.padEnd(s,"0").slice(0,s>0?s:0)),i&&(i=`${l}${i}`),r=[n.createElement("span",{key:"int",className:`${m}-content-value-int`},x,d),i&&n.createElement("span",{key:"decimal",className:`${m}-content-value-decimal`},i)]}}return n.createElement("span",{className:`${m}-content-value`},r)},se=t=>{const{componentCls:e,marginXXS:o,padding:s,colorTextDescription:l,titleFontSize:f,colorTextHeading:m,contentFontSize:r,fontFamily:a}=t;return{[e]:{...q(t),[`${e}-header`]:{paddingBottom:o,[`${e}-title`]:{color:l,fontSize:f}},[`${e}-skeleton`]:{paddingTop:s},[`${e}-content`]:{color:m,fontSize:r,fontFamily:a,[`${e}-content-value`]:{display:"inline-block",direction:"ltr"},[`${e}-content-prefix, ${e}-content-suffix`]:{display:"inline-block"},[`${e}-content-prefix`]:{marginInlineEnd:o},[`${e}-content-suffix`]:{marginInlineStart:o}}}}},ae=t=>{const{fontSizeHeading3:e,fontSize:o}=t;return{titleFontSize:o,contentFontSize:e}},oe=K("Statistic",t=>{const e=O(t,{});return se(e)},ae),$=n.forwardRef((t,e)=>{const{prefixCls:o,className:s,rootClassName:l,style:f,valueStyle:m,value:r=0,title:a,valueRender:u,prefix:x,suffix:d,loading:i=!1,formatter:c,precision:S,decimalSeparator:g=".",groupSeparator:E=",",onMouseEnter:h,onMouseLeave:k,styles:z,classNames:D,...I}=t,{getPrefixCls:R,direction:H,className:M,style:P,classNames:b,styles:F}=G("statistic"),p=R("statistic",o),[A,L]=oe(p),B={...t,decimalSeparator:g,groupSeparator:E,loading:i,value:r},[v,N]=Q([b,D],[F,z],{props:B}),C=n.createElement(ne,{decimalSeparator:g,groupSeparator:E,prefixCls:p,formatter:c,precision:S,value:r}),U=y(p,{[`${p}-rtl`]:H==="rtl"},M,s,l,v.root,A,L),V=y(`${p}-header`,v.header),X=y(`${p}-title`,v.title),Y=y(`${p}-content`,v.content),Z=y(`${p}-content-prefix`,v.prefix),_=y(`${p}-content-suffix`,v.suffix),w=n.useRef(null);n.useImperativeHandle(e,()=>({nativeElement:w.current}));const j=W(I,{aria:!0,data:!0});return n.createElement("div",{...j,className:U,style:{...N.root,...P,...f},ref:w,onMouseEnter:h,onMouseLeave:k},a&&n.createElement("div",{className:V,style:N.header},n.createElement("div",{className:X,style:N.title},a)),n.createElement(ee,{paragraph:!1,loading:i,className:`${p}-skeleton`,active:!0},n.createElement("div",{className:Y,style:{...m,...N.content}},x&&n.createElement("span",{className:Z,style:N.prefix},x),u?u(C):C,d&&n.createElement("span",{className:_,style:N.suffix},d))))}),re=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function ce(t,e){let o=t;const s=/\[[^\]]*]/g,l=(e.match(s)||[]).map(a=>a.slice(1,-1)),f=e.replace(s,"[]"),m=re.reduce((a,[u,x])=>{if(a.includes(u)){const d=Math.floor(o/x);return o-=d*x,a.replace(new RegExp(`${u}+`,"g"),i=>{const c=i.length;return d.toString().padStart(c,"0")})}return a},f);let r=0;return m.replace(s,()=>{const a=l[r];return r+=1,a})}function le(t,e,o){const{format:s=""}=e,l=new Date(t).getTime(),f=Date.now(),m=Math.max(o?l-f:f-l,0);return ce(m,s)}const ie=1e3/60;function me(t){return new Date(t).getTime()}const T=t=>{const{value:e,format:o="HH:mm:ss",onChange:s,onFinish:l,type:f,...m}=t,r=f==="countdown",[a,u]=n.useState(null),x=J(()=>{const c=Date.now(),S=me(e);u({});const g=r?S-c:c-S;return s==null||s(g),r&&S<c?(l==null||l(),!1):!0});n.useEffect(()=>{let c;const S=()=>{x()||window.clearInterval(c)},g=()=>{c=window.setInterval(S,ie)},E=()=>{window.clearInterval(c)};return g(),()=>{E()}},[e,r]),n.useEffect(()=>{u({})},[]);const d=(c,S)=>a?le(c,{...S,format:o},r):"-",i=c=>te(c,{title:void 0});return n.createElement($,{...m,value:e,valueRender:i,formatter:d})},ue=t=>n.createElement(T,{...t,type:"countdown"}),fe=n.memo(ue);$.Timer=T;$.Countdown=fe;export{$ as S};
