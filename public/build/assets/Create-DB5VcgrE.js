import{J as N,x as k,r as C,j as e,Q as w,t as g}from"./app-CCWscn4N.js";import{S as F,a as S}from"./SidebarLayout-D4nqS7b6.js";import{P as T}from"./PrimaryButton-0XQdD5oU.js";import{S as h}from"./SecondaryButton-DbLXN_Wj.js";import{T as n}from"./TextInput-B3Usmh-h.js";import{T as c,F as v}from"./FileInput-D3eku6KK.js";import{S as M}from"./SelectInput-29uheY41.js";import{I as i}from"./InputLabel-CkuccGPf.js";import{I as o}from"./InputError-DhZzip9X.js";import{u as D,T as I}from"./useToast-C8LO0AXC.js";import{F as P}from"./ArrowLeftIcon-Chvcx7Z8.js";import"./SessionTimeout-72mUHhjZ.js";import"./Modal-CTkSowC8.js";import"./transition-BcOJrHw_.js";import"./DocumentIcon-DfMv9kcy.js";import"./VideoCameraIcon-BeaBo1qD.js";import"./CheckCircleIcon-Ba1qBm0g.js";import"./InformationCircleIcon-DXHaClqH.js";import"./ExclamationCircleIcon-CdqybNTP.js";import"./XCircleIcon-CqlH9Z_j.js";function ee(){const{flash:d}=N().props,{toasts:f,success:u,error:x,removeToast:j}=D(),{data:s,setData:t,post:b,processing:p,errors:r}=k({title:"",description:"",full_description:"",goal_amount:"",status:"draft",start_date:new Date().toISOString().split("T")[0],end_date:"",image_file:null,video_file:null,video_url:"",payment_methods:["bank_transfer","mobile_money"],bank_details:"",mobile_money_number:"",is_featured:!1,sort_order:0});C.useEffect(()=>{d!=null&&d.success&&u("Success",d.success),d!=null&&d.error&&x("Error",d.error)},[d]);const _=a=>{a.preventDefault();const l={...s,is_featured:s.is_featured?1:0};b(route("admin.fundraising-campaigns.store"),{data:l,forceFormData:!0,onSuccess:()=>{u("Success","Fundraising campaign created successfully")},onError:m=>{console.log("Create errors:",m),x("Error","Failed to create campaign. Please check the form for errors.")}})},y=(a,l)=>{l?t("payment_methods",[...s.payment_methods,a]):t("payment_methods",s.payment_methods.filter(m=>m!==a))};return e.jsxs(F,{children:[e.jsx(w,{title:"Create Fundraising Campaign"}),e.jsx(I,{toasts:f,removeToast:j}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex items-center mb-4",children:e.jsx(g,{href:route("admin.fundraising-campaigns.index"),children:e.jsxs(h,{children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Back to Campaigns"]})})}),e.jsxs("h2",{className:"text-2xl font-bold leading-7 text-gray-900 dark:text-white sm:truncate sm:text-3xl sm:tracking-tight flex items-center",children:[e.jsx(S,{className:"h-8 w-8 mr-3 text-red-600"}),"Create New Campaign"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Create a new fundraising campaign"})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg",children:e.jsxs("form",{onSubmit:_,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(i,{htmlFor:"title",value:"Campaign Title"}),e.jsx(n,{id:"title",type:"text",className:"mt-1 block w-full",value:s.title,onChange:a=>t("title",a.target.value),required:!0}),e.jsx(o,{message:r.title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"goal_amount",value:"Goal Amount (TZS)"}),e.jsx(n,{id:"goal_amount",type:"number",className:"mt-1 block w-full",value:s.goal_amount,onChange:a=>t("goal_amount",a.target.value),min:"1",required:!0}),e.jsx(o,{message:r.goal_amount,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"status",value:"Status"}),e.jsxs(M,{id:"status",className:"mt-1 block w-full",value:s.status,onChange:a=>t("status",a.target.value),required:!0,children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"paused",children:"Paused"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]}),e.jsx(o,{message:r.status,className:"mt-2"})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"description",value:"Short Description"}),e.jsx(c,{id:"description",className:"mt-1 block w-full",rows:3,value:s.description,onChange:a=>t("description",a.target.value),placeholder:"Brief description for campaign cards",required:!0}),e.jsx(o,{message:r.description,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"full_description",value:"Full Description"}),e.jsx(c,{id:"full_description",className:"mt-1 block w-full",rows:6,value:s.full_description,onChange:a=>t("full_description",a.target.value),placeholder:"Detailed description of the campaign goals and impact"}),e.jsx(o,{message:r.full_description,className:"mt-2"})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Media (Optional)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx(v,{id:"image_file",name:"image_file",label:"Upload Campaign Image",accept:"image/*",maxSize:5,value:s.image_file,onChange:(a,l)=>{t("image_file",a),l&&console.error("Image upload error:",l)},error:r.image_file,description:"JPEG, PNG, JPG, GIF, WebP up to 5MB",preview:!0})}),e.jsx("div",{children:e.jsx(v,{id:"video_file",name:"video_file",label:"Upload Campaign Video (Optional)",accept:"video/*",maxSize:50,value:s.video_file,onChange:(a,l)=>{t("video_file",a),l&&console.error("Video upload error:",l)},error:r.video_file,description:"MP4, AVI, MOV, WMV, FLV, WebM up to 50MB",preview:!1})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx(i,{htmlFor:"video_url",value:"Or Video URL (YouTube/Vimeo)"}),e.jsx(n,{id:"video_url",type:"url",className:"mt-1 block w-full",value:s.video_url,onChange:a=>t("video_url",a.target.value),placeholder:"https://www.youtube.com/watch?v=... or https://vimeo.com/..."}),e.jsx(o,{message:r.video_url,className:"mt-2"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"You can either upload a video file above or provide a YouTube/Vimeo URL here"})]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Payment Methods"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex flex-wrap gap-4",children:[{value:"bank_transfer",label:"Bank Transfer"},{value:"mobile_money",label:"Mobile Money"},{value:"cash",label:"Cash"}].map(a=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 shadow-sm focus:ring-blue-500",checked:s.payment_methods.includes(a.value),onChange:l=>y(a.value,l.target.checked)}),e.jsx("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:a.label})]},a.value))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"bank_details",value:"Bank Details"}),e.jsx(c,{id:"bank_details",className:"mt-1 block w-full",rows:4,value:s.bank_details,onChange:a=>t("bank_details",a.target.value),placeholder:`Account Name: Campaign Name
Bank: Bank Name
Account Number: 123456789`}),e.jsx(o,{message:r.bank_details,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"mobile_money_number",value:"Mobile Money Number"}),e.jsx(n,{id:"mobile_money_number",type:"text",className:"mt-1 block w-full",value:s.mobile_money_number,onChange:a=>t("mobile_money_number",a.target.value),placeholder:"+255 123 456 789"}),e.jsx(o,{message:r.mobile_money_number,className:"mt-2"})]})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Campaign Schedule"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"start_date",value:"Start Date"}),e.jsx(n,{id:"start_date",type:"date",className:"mt-1 block w-full",value:s.start_date,onChange:a=>t("start_date",a.target.value),required:!0}),e.jsx(o,{message:r.start_date,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"end_date",value:"End Date (Optional)"}),e.jsx(n,{id:"end_date",type:"date",className:"mt-1 block w-full",value:s.end_date,onChange:a=>t("end_date",a.target.value)}),e.jsx(o,{message:r.end_date,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"sort_order",value:"Sort Order"}),e.jsx(n,{id:"sort_order",type:"number",className:"mt-1 block w-full",value:s.sort_order,onChange:a=>t("sort_order",a.target.value),min:"0"}),e.jsx(o,{message:r.sort_order,className:"mt-2"})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 shadow-sm focus:ring-blue-500",checked:s.is_featured,onChange:a=>t("is_featured",a.target.checked)}),e.jsx("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:"Featured campaign (appears prominently)"})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(g,{href:route("admin.fundraising-campaigns.index"),children:e.jsx(h,{children:"Cancel"})}),e.jsx(T,{type:"submit",disabled:p,children:p?"Creating...":"Create Campaign"})]})]})})]})}export{ee as default};
