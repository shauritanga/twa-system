import{r as m,x as f,j as e}from"./app-BCoYgWpy.js";import{S as b}from"./SidebarLayout-kOlWGYoO.js";import{P as j}from"./PrimaryButton-CfU57GbV.js";import{I as d}from"./InputLabel-Bde9K8Jr.js";import{T as o}from"./TextInput-MrvBohB-.js";import{I as n}from"./InputError-Ohjp3NQa.js";import{F as y}from"./PlusCircleIcon-1lShSmV0.js";import"./SessionTimeout-BSdDJ2Oa.js";import"./Modal-BszroB66.js";import"./transition-CN7I8a8f.js";import"./SecondaryButton-BtrCzkae.js";import"./ShieldCheckIcon-CKcXqkNX.js";function v({title:i,titleId:s,...t},x){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:x,"aria-labelledby":s},t),i?m.createElement("title",{id:s},i):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const w=m.forwardRef(v);function I({dependents:i}){const{data:s,setData:t,post:x,processing:h,errors:l,reset:p}=f({name:"",relationship:"",date_of_birth:"",tribe:"",residence:"",image:null}),[g,c]=m.useState(!1),u=a=>{a.preventDefault();const r=new FormData;r.append("name",s.name),r.append("relationship",s.relationship),r.append("date_of_birth",s.date_of_birth),r.append("tribe",s.tribe),r.append("residence",s.residence),s.image&&r.append("image",s.image),x(route("dependents.store"),{data:r,headers:{"Content-Type":"multipart/form-data"},onSuccess:()=>{p(),c(!1)}})};return e.jsx(b,{children:e.jsxs("div",{className:"w-full py-12 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:"Your Dependants"}),i.length<5&&e.jsxs("button",{onClick:()=>c(!g),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[e.jsx(y,{className:"h-5 w-5 mr-2"}),g?"Cancel":"Add Dependant"]})]}),g&&e.jsx("div",{className:"fixed z-[9999] inset-0 overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"â€‹"}),e.jsx("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Add New Dependant"}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Please provide the details of the dependant you wish to add. This information helps us maintain accurate records and process approvals. All fields are optional except for the name, but providing more details can expedite the verification process."}),e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"name",value:"Dependant's Full Name *",className:"text-gray-900 dark:text-gray-100 font-medium"}),e.jsx(o,{id:"name",name:"name",value:s.name,placeholder:"e.g., John Doe",className:"mt-1 block w-full",onChange:a=>t("name",a.target.value)}),e.jsx(n,{message:l.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"relationship",value:"Relationship to You",className:"text-gray-900 dark:text-gray-100 font-medium"}),e.jsx(o,{id:"relationship",name:"relationship",value:s.relationship,placeholder:"e.g., Spouse, Child, Parent",className:"mt-1 block w-full",onChange:a=>t("relationship",a.target.value)}),e.jsx(n,{message:l.relationship,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"date_of_birth",value:"Date of Birth (Dependant)",className:"text-gray-900 dark:text-gray-100 font-medium"}),e.jsx(o,{id:"date_of_birth",name:"date_of_birth",type:"date",value:s.date_of_birth||"",placeholder:"Select date",className:"mt-1 block w-full",onChange:a=>t("date_of_birth",a.target.value)}),e.jsx(n,{message:l.date_of_birth,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"tribe",value:"Tribal Affiliation",className:"text-gray-900 dark:text-gray-100 font-medium"}),e.jsx(o,{id:"tribe",name:"tribe",value:s.tribe||"",placeholder:"e.g., Kikuyu, Maasai",className:"mt-1 block w-full",onChange:a=>t("tribe",a.target.value)}),e.jsx(n,{message:l.tribe,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"residence",value:"Current Residence Address",className:"text-gray-900 dark:text-gray-100 font-medium"}),e.jsx(o,{id:"residence",name:"residence",value:s.residence||"",placeholder:"e.g., 123 Main St, Nairobi",className:"mt-1 block w-full",onChange:a=>t("residence",a.target.value)}),e.jsx(n,{message:l.residence,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"image",value:"Dependent's Image",className:"text-gray-900 dark:text-gray-100 font-medium"}),e.jsx("input",{id:"image",type:"file",accept:"image/*",className:"mt-1 block w-full text-gray-900 dark:text-gray-100",onChange:a=>t("image",a.target.files[0])}),e.jsx(n,{message:l.image,className:"mt-2"})]})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx("button",{type:"button",onClick:()=>c(!1),className:"mr-3 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),e.jsx(j,{disabled:h,children:"Add Dependant"})]})]})]})})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-xl rounded-lg",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white flex items-center",children:[e.jsx(w,{className:"h-6 w-6 mr-3 text-blue-500"}),"Existing Dependants"]})}),e.jsx("div",{className:"p-6",children:i.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 w-full",children:i.map(a=>e.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300",children:e.jsxs("div",{className:"p-5",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 flex items-center",children:[a.name,a.status==="approved"&&e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:a.relationship}),e.jsx("div",{className:"mt-3",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${a.status==="approved"?"bg-green-100 text-green-800":a.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:a.status})})]})},a.id))}):e.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-6",children:"No dependants found."})})]})]})})}export{I as default};
