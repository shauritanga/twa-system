import{J as k,r as d,j as e,Q as _,t as g,S as F}from"./app-CCWscn4N.js";import{S as D,a as u}from"./SidebarLayout-D4nqS7b6.js";import{P as S}from"./PrimaryButton-0XQdD5oU.js";import{S as C}from"./SecondaryButton-DbLXN_Wj.js";import{D as R}from"./DangerButton-DfvhuKss.js";import{C as $}from"./ConfirmationModal-POaRmgwl.js";import{u as P,T}from"./useToast-C8LO0AXC.js";import{F as E}from"./ArrowLeftIcon-Chvcx7Z8.js";import{F as M}from"./PencilIcon-sALstWWC.js";import{F as B}from"./TrashIcon-DME0PLII.js";import{F as j}from"./CurrencyDollarIcon-Df_XsRZi.js";import{F as f}from"./BanknotesIcon-C_xO1O8w.js";import{F as L}from"./VideoCameraIcon-BeaBo1qD.js";import{F as i}from"./CalendarIcon-BwYi_s04.js";import{F as G}from"./UserIcon-DDXGYZkO.js";import{F as I}from"./DevicePhoneMobileIcon-CJbHbYxy.js";import"./SessionTimeout-72mUHhjZ.js";import"./Modal-CTkSowC8.js";import"./transition-BcOJrHw_.js";import"./ExclamationTriangleIcon-ChxHdgS_.js";import"./InformationCircleIcon-DXHaClqH.js";import"./CheckCircleIcon-Ba1qBm0g.js";import"./ExclamationCircleIcon-CdqybNTP.js";import"./XCircleIcon-CqlH9Z_j.js";function xe({campaign:s}){var h;const{flash:t}=k().props,{toasts:p,success:n,error:o,removeToast:w}=P(),[y,m]=d.useState(!1),[b,x]=d.useState(!1);d.useEffect(()=>{t!=null&&t.success&&n("Success",t.success),t!=null&&t.error&&o("Error",t.error)},[t]);const N=()=>{x(!0),F.delete(route("admin.fundraising-campaigns.destroy",s.id),{onSuccess:()=>{n("Success","Campaign deleted successfully")},onError:()=>{o("Error","Failed to delete campaign")},onFinish:()=>{x(!1)}})},v=a=>{const l={active:"bg-green-100 text-green-800",draft:"bg-yellow-100 text-yellow-800",paused:"bg-orange-100 text-orange-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800"};return l[a]||l.draft},r=a=>new Intl.NumberFormat("en-TZ",{style:"currency",currency:"TZS",minimumFractionDigits:0,maximumFractionDigits:0}).format(a),c=((a,l)=>l<=0?0:Math.min(100,a/l*100))(s.raised_amount,s.goal_amount);return e.jsxs(D,{children:[e.jsx(_,{title:`Campaign: ${s.title}`}),e.jsx(T,{toasts:p,removeToast:w}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(g,{href:route("admin.fundraising-campaigns.index"),children:e.jsxs(C,{children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Back to Campaigns"]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(g,{href:route("admin.fundraising-campaigns.edit",s.id),children:e.jsxs(S,{children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),"Edit"]})}),e.jsxs(R,{onClick:()=>m(!0),children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(u,{className:"h-8 w-8 mr-3 text-red-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.title}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${v(s.status)}`,children:s.status}),s.is_featured&&e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800",children:"Featured"})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Fundraising Progress"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-2",children:[e.jsxs("span",{children:[r(s.raised_amount)," raised"]}),e.jsxs("span",{children:[c.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:{width:`${c}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.jsxs("span",{children:["Goal: ",r(s.goal_amount)]}),e.jsxs("span",{children:["Remaining: ",r(s.goal_amount-s.raised_amount)]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx(j,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Raised"}),e.jsx("p",{className:"text-lg font-bold text-green-600",children:r(s.raised_amount)})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx(f,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Goal"}),e.jsx("p",{className:"text-lg font-bold text-blue-600",children:r(s.goal_amount)})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[e.jsx(u,{className:"h-8 w-8 text-orange-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Remaining"}),e.jsx("p",{className:"text-lg font-bold text-orange-600",children:r(s.goal_amount-s.raised_amount)})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.image_path&&e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden",children:e.jsx("img",{src:`/storage/${s.image_path}`,alt:s.title,className:"w-full h-64 object-cover"})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Description"}),e.jsx("div",{className:"prose dark:prose-invert max-w-none",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:s.description})})]}),s.full_description&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Full Description"}),e.jsx("div",{className:"prose dark:prose-invert max-w-none",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:s.full_description})})]}),s.video_url&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(L,{className:"h-5 w-5 mr-2"}),"Campaign Video"]}),e.jsx("div",{className:"aspect-w-16 aspect-h-9",children:e.jsx("iframe",{src:s.video_url.replace("watch?v=","embed/"),title:s.title,className:"w-full h-64 rounded-lg",allowFullScreen:!0})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Campaign Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(i,{className:"h-5 w-5 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Start Date"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(s.start_date).toLocaleDateString()})]})]}),s.end_date&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(i,{className:"h-5 w-5 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"End Date"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(s.end_date).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(G,{className:"h-5 w-5 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Created By"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:((h=s.creator)==null?void 0:h.name)||"Unknown"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(i,{className:"h-5 w-5 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Created"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(s.created_at).toLocaleDateString()})]})]})]})]}),s.payment_methods&&s.payment_methods.length>0&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payment Methods"}),e.jsxs("div",{className:"space-y-3",children:[s.payment_methods.includes("bank_transfer")&&s.bank_details&&e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(f,{className:"h-5 w-5 text-blue-600 mr-2"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Bank Transfer"})]}),e.jsx("pre",{className:"text-sm text-gray-600 dark:text-gray-400 whitespace-pre-wrap",children:s.bank_details})]}),s.payment_methods.includes("mobile_money")&&s.mobile_money_number&&e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(I,{className:"h-5 w-5 text-green-600 mr-2"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Mobile Money"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.mobile_money_number})]}),s.payment_methods.includes("cash")&&e.jsxs("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(j,{className:"h-5 w-5 text-yellow-600 mr-2"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Cash Payment"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Contact us for cash payment arrangements"})]})]})]})]})]}),e.jsx($,{show:y,onClose:()=>m(!1),onConfirm:N,title:"Delete Campaign",description:`Are you sure you want to delete "${s.title}"? This action cannot be undone.`,confirmText:"Delete",processing:b})]})}export{xe as default};
