import{r as g,t as O,j as e,Q as I,S as M}from"./app-D2e3E3XV.js";import{I as F,A as R,S as z,B,C as a}from"./AdminSidebarLayout-COqDSJm5.js";import{d}from"./dayjs.min-sc-J1EWQ.js";import{D as w}from"./index-SHICJdD7.js";import{R as Z}from"./DownloadOutlined-CK9diUBp.js";import{T as $}from"./index-DlUzflYL.js";import{R as h,C as i}from"./row-C-LMzcQh.js";import{T as S}from"./index-m_fbIKNS.js";import"./SessionTimeout-CfqEmPbo.js";import"./Modal-J3vqZBmM.js";import"./transition-BB8nYaSI.js";import"./PrimaryButton-CAxNNQMa.js";import"./SecondaryButton-DEXX7yh7.js";import"./useIcons-Bk-sqBIx.js";import"./getAllowClear-BoT9aE4f.js";import"./DownOutlined-D3g4QtBj.js";import"./CalendarOutlined-D-3mNytr.js";import"./ClockCircleOutlined-qBW9qdtJ.js";import"./EditOutlined-DJbavOcF.js";import"./TextArea-Ba86vcsD.js";var P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0048.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"}}]},name:"arrow-down",theme:"outlined"};function T(){return T=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(s[o]=l[o])}return s},T.apply(this,arguments)}const W=(s,t)=>g.createElement(F,T({},s,{ref:t,icon:P})),k=g.forwardRef(W);var N={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"};function _(){return _=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(s[o]=l[o])}return s},_.apply(this,arguments)}const A=(s,t)=>g.createElement(F,_({},s,{ref:t,icon:N})),G=g.forwardRef(A),{Title:b,Text:n}=$;function ge({operatingActivities:s,investingActivities:t,financingActivities:l,totals:o,filters:p}){const{token:r}=O.useToken(),[C,L]=g.useState(p.date_from?d(p.date_from):d().startOf("year")),[v,Y]=g.useState(p.date_to?d(p.date_to):d()),D=()=>{M.get("/admin-portal/cash-flow",{date_from:C.format("YYYY-MM-DD"),date_to:v.format("YYYY-MM-DD")},{preserveState:!0,preserveScroll:!0})},E=()=>{console.log("Export cash flow statement")},y=(j,x,m)=>{if(!x||x.length===0)return e.jsxs("div",{style:{marginBottom:24},children:[e.jsx(b,{level:5,style:{marginBottom:16,color:m,borderBottom:`2px solid ${m}`,paddingBottom:8},children:j}),e.jsx(n,{type:"secondary",style:{paddingLeft:16},children:"No activities in this period"})]});const f=x.reduce((c,u)=>c+parseFloat(u.amount),0);return e.jsxs("div",{style:{marginBottom:24},children:[e.jsx(b,{level:5,style:{marginBottom:16,color:m,borderBottom:`2px solid ${m}`,paddingBottom:8},children:j}),x.map((c,u)=>e.jsxs(h,{style:{marginBottom:8,paddingLeft:16},children:[e.jsx(i,{span:16,children:e.jsxs(z,{children:[c.type==="inflow"?e.jsx(G,{style:{color:r.colorSuccess}}):e.jsx(k,{style:{color:r.colorError}}),e.jsx(n,{children:c.description})]})}),e.jsx(i,{span:8,style:{textAlign:"right"},children:e.jsxs(n,{style:{color:c.amount>=0?r.colorSuccess:r.colorError},children:[c.amount>=0?"+":"","TZS ",parseFloat(c.amount).toLocaleString()]})})]},u)),e.jsxs(h,{style:{marginTop:12,paddingTop:8,borderTop:`1px solid ${r.colorBorder}`,paddingLeft:16},children:[e.jsx(i,{span:16,children:e.jsxs(n,{strong:!0,children:["Net Cash from ",j]})}),e.jsx(i,{span:8,style:{textAlign:"right"},children:e.jsxs(n,{strong:!0,style:{fontSize:16,color:f>=0?r.colorSuccess:r.colorError},children:[f>=0?"+":"","TZS ",parseFloat(f).toLocaleString()]})})]})]})};return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:"Cash Flow Statement - Tabata Welfare Association"}),e.jsxs(R,{children:[e.jsxs("div",{style:{marginBottom:24,display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"12px"},children:[e.jsxs(z,{children:[e.jsx(w,{placeholder:"From Date",value:C,onChange:L,style:{width:140}}),e.jsx(w,{placeholder:"To Date",value:v,onChange:Y,style:{width:140}}),e.jsx(B,{onClick:D,type:"primary",children:"Generate Report"})]}),e.jsx(B,{icon:e.jsx(Z,{}),onClick:E,children:"Export"})]}),e.jsxs("div",{style:{marginBottom:24,display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"12px"},children:[e.jsxs(a,{size:"small",style:{backgroundColor:r.colorInfoBg},children:[e.jsx(n,{type:"secondary",style:{fontSize:"12px"},children:"Opening Cash"}),e.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",marginTop:"4px",color:r.colorInfo},children:["TZS ",parseFloat(o.opening_cash).toLocaleString()]})]}),e.jsxs(a,{size:"small",style:{backgroundColor:r.colorPrimaryBg},children:[e.jsx(n,{type:"secondary",style:{fontSize:"12px"},children:"Operating"}),e.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",marginTop:"4px",color:o.net_operating>=0?r.colorSuccess:r.colorError},children:[o.net_operating>=0?"+":"","TZS ",parseFloat(o.net_operating).toLocaleString()]})]}),e.jsxs(a,{size:"small",style:{backgroundColor:r.colorWarningBg},children:[e.jsx(n,{type:"secondary",style:{fontSize:"12px"},children:"Investing"}),e.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",marginTop:"4px",color:o.net_investing>=0?r.colorSuccess:r.colorError},children:[o.net_investing>=0?"+":"","TZS ",parseFloat(o.net_investing).toLocaleString()]})]}),e.jsxs(a,{size:"small",style:{backgroundColor:r.colorErrorBg},children:[e.jsx(n,{type:"secondary",style:{fontSize:"12px"},children:"Financing"}),e.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",marginTop:"4px",color:o.net_financing>=0?r.colorSuccess:r.colorError},children:[o.net_financing>=0?"+":"","TZS ",parseFloat(o.net_financing).toLocaleString()]})]}),e.jsxs(a,{size:"small",style:{backgroundColor:o.net_cash_change>=0?r.colorSuccessBg:r.colorErrorBg},children:[e.jsx(n,{type:"secondary",style:{fontSize:"12px"},children:"Net Change"}),e.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",marginTop:"4px",color:o.net_cash_change>=0?r.colorSuccess:r.colorError},children:[o.net_cash_change>=0?"+":"","TZS ",parseFloat(o.net_cash_change).toLocaleString()]})]}),e.jsxs(a,{size:"small",style:{backgroundColor:r.colorSuccessBg},children:[e.jsx(n,{type:"secondary",style:{fontSize:"12px"},children:"Closing Cash"}),e.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",marginTop:"4px",color:r.colorSuccess},children:["TZS ",parseFloat(o.closing_cash).toLocaleString()]})]})]}),e.jsxs("div",{style:{padding:24,backgroundColor:r.colorBgContainer,border:`1px solid ${r.colorBorder}`,borderRadius:8},children:[e.jsx("div",{style:{textAlign:"center",marginBottom:32},children:e.jsxs(n,{type:"secondary",children:["For the Period: ",d(p.date_from).format("MMM DD, YYYY")," to ",d(p.date_to).format("MMM DD, YYYY")]})}),e.jsxs(h,{style:{marginBottom:24,padding:12,backgroundColor:r.colorInfoBg,borderRadius:4},children:[e.jsx(i,{span:16,children:e.jsx(n,{strong:!0,children:"Cash at Beginning of Period"})}),e.jsx(i,{span:8,style:{textAlign:"right"},children:e.jsxs(n,{strong:!0,style:{fontSize:16},children:["TZS ",parseFloat(o.opening_cash).toLocaleString()]})})]}),y("Operating Activities",s,r.colorPrimary),y("Investing Activities",t,r.colorWarning),y("Financing Activities",l,r.colorError),e.jsxs(h,{style:{marginBottom:24,paddingTop:16,paddingBottom:16,borderTop:`2px solid ${r.colorPrimary}`,borderBottom:`2px solid ${r.colorPrimary}`},children:[e.jsx(i,{span:16,children:e.jsx(n,{strong:!0,style:{fontSize:16},children:"Net Increase/(Decrease) in Cash"})}),e.jsx(i,{span:8,style:{textAlign:"right"},children:e.jsxs(n,{strong:!0,style:{fontSize:18,color:o.net_cash_change>=0?r.colorSuccess:r.colorError},children:[o.net_cash_change>=0?"+":"","TZS ",parseFloat(o.net_cash_change).toLocaleString()]})})]}),e.jsxs(h,{style:{marginBottom:24,padding:16,backgroundColor:r.colorSuccessBg,borderRadius:4,borderTop:`3px double ${r.colorSuccess}`,borderBottom:`3px double ${r.colorSuccess}`},children:[e.jsx(i,{span:16,children:e.jsx(n,{strong:!0,style:{fontSize:18},children:"Cash at End of Period"})}),e.jsx(i,{span:8,style:{textAlign:"right"},children:e.jsxs(n,{strong:!0,style:{fontSize:20,color:r.colorSuccess},children:["TZS ",parseFloat(o.closing_cash).toLocaleString()]})})]}),e.jsx("div",{style:{textAlign:"center",padding:12,backgroundColor:r.colorInfoBg,borderRadius:4,marginTop:16},children:e.jsxs(n,{style:{fontSize:13},children:["Opening Cash (TZS ",parseFloat(o.opening_cash).toLocaleString(),")"," + ","Net Change (TZS ",parseFloat(o.net_cash_change).toLocaleString(),")"," = ","Closing Cash (TZS ",parseFloat(o.closing_cash).toLocaleString(),")"]})}),e.jsx("div",{style:{marginTop:32,textAlign:"center",borderTop:`1px solid ${r.colorBorder}`,paddingTop:16},children:e.jsxs(n,{type:"secondary",style:{fontSize:12},children:["Generated on ",d().format("MMMM DD, YYYY HH:mm")]})})]}),e.jsxs("div",{style:{marginTop:24},children:[e.jsx(b,{level:5,children:"Cash Flow Summary"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"16px",marginTop:16},children:[e.jsx(a,{size:"small",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx(n,{type:"secondary",children:"Operating Activities"}),e.jsxs("div",{style:{fontSize:"20px",fontWeight:"bold",marginTop:"4px"},children:[(s==null?void 0:s.length)||0," transactions"]})]}),e.jsx(S,{color:o.net_operating>=0?"green":"red",style:{fontSize:"14px"},children:o.net_operating>=0?"Positive":"Negative"})]})}),e.jsx(a,{size:"small",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx(n,{type:"secondary",children:"Investing Activities"}),e.jsxs("div",{style:{fontSize:"20px",fontWeight:"bold",marginTop:"4px"},children:[(t==null?void 0:t.length)||0," transactions"]})]}),e.jsx(S,{color:o.net_investing>=0?"green":"red",style:{fontSize:"14px"},children:o.net_investing>=0?"Positive":"Negative"})]})}),e.jsx(a,{size:"small",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx(n,{type:"secondary",children:"Financing Activities"}),e.jsxs("div",{style:{fontSize:"20px",fontWeight:"bold",marginTop:"4px"},children:[(l==null?void 0:l.length)||0," transactions"]})]}),e.jsx(S,{color:o.net_financing>=0?"green":"red",style:{fontSize:"14px"},children:o.net_financing>=0?"Positive":"Negative"})]})})]})]})]})]})}export{ge as default};
