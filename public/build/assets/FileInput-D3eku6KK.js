import{r as a,j as r}from"./app-CCWscn4N.js";import{F as I}from"./Modal-CTkSowC8.js";import{F as g}from"./DocumentIcon-DfMv9kcy.js";import{F as L}from"./VideoCameraIcon-BeaBo1qD.js";function M({title:o,titleId:i,...s},c){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":i},s),o?a.createElement("title",{id:i},o):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const O=a.forwardRef(M),S=a.forwardRef(function({className:i="",isFocused:s=!1,...c},d){const l=a.useRef(null);return a.useImperativeHandle(d,()=>({focus:()=>{var n;return(n=l.current)==null?void 0:n.focus()}})),a.useEffect(()=>{var n;s&&((n=l.current)==null||n.focus())},[s]),r.jsx("textarea",{...c,className:"w-full rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 bg-transparent text-gray-900 shadow-sm focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 "+i,ref:l})});function Z({id:o,name:i,accept:s,maxSize:c=5,value:d,onChange:l,error:n,label:p,description:y,preview:w=!0,className:N="",disabled:m=!1}){const[F,h]=a.useState(!1),[v,b]=a.useState(null),j=e=>{if(e===0)return"0 Bytes";const t=1024,u=["Bytes","KB","MB","GB"],f=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,f)).toFixed(2))+" "+u[f]},R=e=>{const t=c*1024*1024;if(e.size>t)return`File size must be less than ${c}MB. Current size: ${j(e.size)}`;if(s){const u=s.split(",").map(x=>x.trim()),f="."+e.name.split(".").pop().toLowerCase(),z=e.type;if(!u.some(x=>x.startsWith(".")?f===x:z.match(x.replace("*",".*"))))return`Invalid file type. Accepted types: ${s}`}return null},k=e=>{if(!e)return;const t=R(e);if(t){l(null,t);return}if(w&&e.type.startsWith("image/")){const u=URL.createObjectURL(e);b(u)}l(e,null)},B=e=>{const t=e.target.files[0];k(t)},D=e=>{if(e.preventDefault(),h(!1),m)return;const t=e.dataTransfer.files[0];k(t)},E=e=>{e.preventDefault(),m||h(!0)},$=e=>{e.preventDefault(),h(!1)},C=()=>{b(null),l(null,null);const e=document.getElementById(o);e&&(e.value="")},T=e=>e?e.type.startsWith("image/")?r.jsx(O,{className:"w-8 h-8"}):e.type.startsWith("video/")?r.jsx(L,{className:"w-8 h-8"}):r.jsx(g,{className:"w-8 h-8"}):r.jsx(g,{className:"w-8 h-8"});return r.jsxs("div",{className:N,children:[p&&r.jsx("label",{htmlFor:o,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:p}),r.jsxs("div",{className:`
                    relative border-2 border-dashed rounded-lg p-6 transition-colors
                    ${F?"border-blue-400 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}
                    ${m?"opacity-50 cursor-not-allowed":"cursor-pointer"}
                    ${n?"border-red-300 dark:border-red-600":""}
                `,onDrop:D,onDragOver:E,onDragLeave:$,onClick:()=>{var e;return!m&&((e=document.getElementById(o))==null?void 0:e.click())},children:[r.jsx("input",{id:o,name:i,type:"file",accept:s,onChange:B,className:"sr-only",disabled:m}),d?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"flex-shrink-0 text-gray-400",children:T(d)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:d.name}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:j(d.size)})]}),r.jsx("button",{type:"button",onClick:e=>{e.stopPropagation(),C()},className:"flex-shrink-0 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(I,{className:"w-5 h-5"})})]}),v&&r.jsx("div",{className:"mt-4",children:r.jsx("img",{src:v,alt:"Preview",className:"max-w-full h-32 object-cover rounded-lg border border-gray-200 dark:border-gray-700"})}),r.jsx("div",{className:"text-center",children:r.jsx("span",{className:"text-sm text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300",children:"Click to change file"})})]}):r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto w-12 h-12 text-gray-400 mb-4",children:r.jsx(g,{className:"w-full h-full"})}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r.jsx("span",{className:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400",children:"Click to upload"})," or drag and drop"]}),y&&r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:y})]})]}),n&&r.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:n})]})}export{Z as F,S as T};
