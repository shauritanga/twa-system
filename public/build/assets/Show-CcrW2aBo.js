import{J as v,r as p,j as e,Q as D,t as F}from"./app-CCWscn4N.js";import{S as _}from"./SidebarLayout-D4nqS7b6.js";import{u as S,T as C}from"./useToast-C8LO0AXC.js";import{L as f}from"./LoadingSpinner-B6Ld_cPG.js";import{F as $}from"./ArrowLeftIcon-Chvcx7Z8.js";import{F as j}from"./ArrowDownTrayIcon-C-GP7aC4.js";import{F as R}from"./TagIcon-M0MPejPA.js";import{F as z}from"./GlobeAltIcon-Us73Crs8.js";import{F as B}from"./UserIcon-DDXGYZkO.js";import{F as u}from"./CalendarIcon-BwYi_s04.js";import"./SessionTimeout-72mUHhjZ.js";import"./Modal-CTkSowC8.js";import"./transition-BcOJrHw_.js";import"./PrimaryButton-0XQdD5oU.js";import"./SecondaryButton-DbLXN_Wj.js";import"./CheckCircleIcon-Ba1qBm0g.js";import"./InformationCircleIcon-DXHaClqH.js";import"./ExclamationCircleIcon-CdqybNTP.js";import"./XCircleIcon-CqlH9Z_j.js";function Z({document:s}){var o,g;const{flash:a}=v().props,{toasts:y,success:d,error:w,info:l,removeToast:N}=S(),[r,x]=p.useState(!1);p.useEffect(()=>{a!=null&&a.success&&d("Success",a.success),a!=null&&a.error&&w("Error",a.error),a!=null&&a.info&&l("Info",a.info)},[a]);const n=()=>{x(!0),l("Download Started",`Downloading "${s.title}"...`);const t=s.createElement("a");t.href=route("documents.download",s.id),t.download=s.file_name,s.body.appendChild(t),t.click(),s.body.removeChild(t),setTimeout(()=>{x(!1),d("Download Complete",`"${s.title}" has been downloaded successfully.`)},1500)},b=t=>{switch(t==null?void 0:t.toLowerCase()){case"pdf":return"ðŸ“„";case"doc":case"docx":return"ðŸ“";case"xls":case"xlsx":return"ðŸ“Š";case"ppt":case"pptx":return"ðŸ“‹";case"txt":return"ðŸ“ƒ";case"jpg":case"jpeg":case"png":return"ðŸ–¼ï¸";default:return"ðŸ“"}},c=t=>{if(t===0)return"0 Bytes";const i=1024,k=["Bytes","KB","MB","GB"],h=Math.floor(Math.log(t)/Math.log(i));return parseFloat((t/Math.pow(i,h)).toFixed(2))+" "+k[h]},m=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs(_,{children:[e.jsx(D,{title:`Document: ${s.title}`}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(F,{href:route("member.documents.index"),className:"inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:[e.jsx($,{className:"h-4 w-4 mr-1"}),"Back to Documents"]})}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("button",{onClick:n,disabled:r,className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${r?"text-gray-400 bg-gray-300 cursor-not-allowed":"text-white bg-blue-600 hover:bg-blue-700"}`,children:[r?e.jsx(f,{size:"sm",className:"mr-2"}):e.jsx(j,{className:"h-4 w-4 mr-2"}),r?"Downloading...":"Download"]})})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:s.title}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:b(s.file_type)}),e.jsx("span",{children:s.file_name})]}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:c(s.file_size)}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-200",children:s.category_display})]})]})})}),e.jsx("div",{className:"px-6 py-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.description&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-3",children:"Description"}),e.jsx("div",{className:"prose dark:prose-invert max-w-none",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:s.description})})]}),s.tags&&s.tags.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-3",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map((t,i)=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",children:[e.jsx(R,{className:"h-3 w-3 mr-1"}),t]},i))})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Ready to Download"}),e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-300 mt-1",children:"Click the download button to save this document to your device."})]}),e.jsxs("button",{onClick:n,disabled:r,className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${r?"text-gray-400 bg-gray-300 cursor-not-allowed":"text-white bg-blue-600 hover:bg-blue-700"}`,children:[r?e.jsx(f,{size:"sm",className:"mr-2"}):e.jsx(j,{className:"h-4 w-4 mr-2"}),r?"Downloading...":"Download"]})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-4",children:"Document Information"}),e.jsxs("dl",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Category"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:s.category_display})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Visibility"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white flex items-center",children:[e.jsx(z,{className:"h-4 w-4 mr-1"}),s.visibility_display]})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Uploaded By"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white flex items-center",children:[e.jsx(B,{className:"h-4 w-4 mr-1"}),((o=s.uploader)==null?void 0:o.name)||"System"]})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Upload Date"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white flex items-center",children:[e.jsx(u,{className:"h-4 w-4 mr-1"}),m(s.created_at)]})]}),s.document_date&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Document Date"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white flex items-center",children:[e.jsx(u,{className:"h-4 w-4 mr-1"}),m(s.document_date)]})]}),s.download_count>0&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Downloads"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:[s.download_count," times"]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-4",children:"File Details"}),e.jsxs("dl",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"File Name"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white break-all",children:s.file_name})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"File Type"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:(g=s.file_type)==null?void 0:g.toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"File Size"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:c(s.file_size)})]})]})]})]})]})})]})]})}),e.jsx(C,{toasts:y,removeToast:N})]})}export{Z as default};
