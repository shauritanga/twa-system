import{r as o,R as i,c as S,d as ie,D as fe,g as me}from"./app-Cfy4TXUM.js";import{u as de,aY as pe,s as ge,h as Ce,as as xe,y as he,i as we,aq as Se,aC as ue,a9 as le,ar as ve}from"./AdminSidebarLayout-Buj-taLG.js";import{u as Ee,B as be,r as ce,g as ye}from"./getAllowClear-CEhEtxYT.js";import{k as Re,u as $e,c as Ne}from"./index-mG9EyX9P.js";function U(){return U=Object.assign?Object.assign.bind():function(s){for(var d=1;d<arguments.length;d++){var f=arguments[d];for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(s[l]=f[l])}return s},U.apply(this,arguments)}const Ie=o.forwardRef((s,d)=>{const{autoComplete:f,onChange:l,onFocus:c,onBlur:v,onPressEnter:E,onKeyDown:m,onKeyUp:b,prefixCls:p="rc-input",disabled:$,htmlSize:j,className:H,maxLength:Y,suffix:O,showCount:_,count:K,type:B="text",classes:G,classNames:g,styles:C,onCompositionStart:T,onCompositionEnd:x,...J}=s,[Q,V]=o.useState(!1),k=o.useRef(!1),h=o.useRef(!1),a=o.useRef(null),t=o.useRef(null),N=e=>{a.current&&pe(a.current,e)},[I,y]=de(s.defaultValue,s.value),D=I==null?"":String(I),[L,X]=o.useState(null),r=Ee(K,_),R=r.max||Y,F=r.strategy(D),Z=!!R&&F>R;o.useImperativeHandle(d,()=>{var e;return{focus:N,blur:()=>{var n;(n=a.current)==null||n.blur()},setSelectionRange:(n,A,w)=>{var u;(u=a.current)==null||u.setSelectionRange(n,A,w)},select:()=>{var n;(n=a.current)==null||n.select()},input:a.current,nativeElement:((e=t.current)==null?void 0:e.nativeElement)||a.current}}),o.useEffect(()=>{h.current&&(h.current=!1),V(e=>e&&$?!1:e)},[$]);const P=(e,n,A)=>{var u,oe;let w=n;if(!k.current&&r.exceedFormatter&&r.max&&r.strategy(n)>r.max)w=r.exceedFormatter(n,{max:r.max}),n!==w&&X([((u=a.current)==null?void 0:u.selectionStart)||0,((oe=a.current)==null?void 0:oe.selectionEnd)||0]);else if(A.source==="compositionEnd")return;y(w),a.current&&ce(a.current,e,l,w)};o.useEffect(()=>{var e;L&&((e=a.current)==null||e.setSelectionRange(...L))},[L]);const W=e=>{P(e,e.target.value,{source:"change"})},ee=e=>{k.current=!1,P(e,e.currentTarget.value,{source:"compositionEnd"}),x==null||x(e)},z=e=>{E&&e.key==="Enter"&&!h.current&&!e.nativeEvent.isComposing&&(h.current=!0,E(e)),m==null||m(e)},te=e=>{e.key==="Enter"&&(h.current=!1),b==null||b(e)},q=e=>{V(!0),c==null||c(e)},se=e=>{h.current&&(h.current=!1),V(!1),v==null||v(e)},M=e=>{y(""),N(),a.current&&ce(a.current,e,l)},re=Z&&`${p}-out-of-range`,ne=()=>{const e=ge(s,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return i.createElement("input",U({autoComplete:f},e,{onChange:W,onFocus:q,onBlur:se,onKeyDown:z,onKeyUp:te,className:S(p,{[`${p}-disabled`]:$},g==null?void 0:g.input),style:C==null?void 0:C.input,ref:a,size:j,type:B,onCompositionStart:n=>{k.current=!0,T==null||T(n)},onCompositionEnd:ee}))},ae=()=>{const e=Number(R)>0;if(O||r.show){const n=r.showFormatter?r.showFormatter({value:D,count:F,maxLength:R}):`${F}${e?` / ${R}`:""}`;return i.createElement(i.Fragment,null,r.show&&i.createElement("span",{className:S(`${p}-show-count-suffix`,{[`${p}-show-count-has-suffix`]:!!O},g==null?void 0:g.count),style:{...C==null?void 0:C.count}},n),O)}return null};return i.createElement(be,U({},J,{prefixCls:p,className:S(H,re),handleReset:M,value:D,focused:Q,triggerFocus:N,suffix:ae(),disabled:$,classes:G,classNames:g,styles:C,ref:t}),ne())});function Fe(s,d){const f=o.useRef([]),l=()=>{f.current.push(setTimeout(()=>{var c,v,E,m;(c=s.current)!=null&&c.input&&((v=s.current)==null?void 0:v.input.getAttribute("type"))==="password"&&((E=s.current)!=null&&E.input.hasAttribute("value"))&&((m=s.current)==null||m.input.removeAttribute("value"))}))};return o.useEffect(()=>(d&&l(),()=>f.current.forEach(c=>{c&&clearTimeout(c)})),[]),l}function Pe(s){return!!(s.prefix||s.suffix||s.allowClear||s.showCount)}const Te=o.forwardRef((s,d)=>{const{prefixCls:f,bordered:l=!0,status:c,size:v,disabled:E,onBlur:m,onFocus:b,suffix:p,allowClear:$,addonAfter:j,addonBefore:H,className:Y,style:O,styles:_,rootClassName:K,onChange:B,classNames:G,variant:g,...C}=s,{getPrefixCls:T,direction:x,allowClear:J,autoComplete:Q,className:V,style:k,classNames:h,styles:a}=ie("input"),t=T("input",f),N=o.useRef(null),I=Ce(t),[y,D]=Re(t,K);$e(t,I);const{compactSize:L,compactItemClassnames:X}=xe(t,x),r=he(u=>v??L??u),R=i.useContext(fe),F=E??R,Z={...s,size:r,disabled:F},[P,W]=we([h,G],[a,_],{props:Z}),{status:ee,hasFeedback:z,feedbackIcon:te}=o.useContext(Se),q=ve(ee,c),se=Pe(s)||!!z;o.useRef(se);const M=Fe(N,!0),re=u=>{M(),m==null||m(u)},ne=u=>{M(),b==null||b(u)},ae=u=>{M(),B==null||B(u)},e=(z||p)&&i.createElement(i.Fragment,null,p,z&&te),n=ye($??J),[A,w]=Ne("input",g,l);return i.createElement(Ie,{ref:me(d,N),prefixCls:t,autoComplete:Q,...C,disabled:F,onBlur:re,onFocus:ne,style:{...W.root,...k,...O},styles:W,suffix:e,allowClear:n,className:S(Y,K,D,I,X,V,P.root),onChange:ae,addonBefore:H&&i.createElement(le,{form:!0,space:!0},H),addonAfter:j&&i.createElement(le,{form:!0,space:!0},j),classNames:{...P,input:S({[`${t}-sm`]:r==="small",[`${t}-lg`]:r==="large",[`${t}-rtl`]:x==="rtl"},P.input,y),variant:S({[`${t}-${A}`]:w},ue(t,q)),affixWrapper:S({[`${t}-affix-wrapper-sm`]:r==="small",[`${t}-affix-wrapper-lg`]:r==="large",[`${t}-affix-wrapper-rtl`]:x==="rtl"},y),wrapper:S({[`${t}-group-rtl`]:x==="rtl"},y),groupWrapper:S({[`${t}-group-wrapper-sm`]:r==="small",[`${t}-group-wrapper-lg`]:r==="large",[`${t}-group-wrapper-rtl`]:x==="rtl",[`${t}-group-wrapper-${A}`]:w},ue(`${t}-group-wrapper`,q,z),y)}})});export{Te as I,Fe as u};
