import{r as s,j as e}from"./app-CCWscn4N.js";import{L as F,a as V,S as ue,b as be,c as O,d as W}from"./SidebarLayout-D4nqS7b6.js";import{L as G,D as ye,B as je,P as fe,C as we,a as ve,b as Ne,c as ke,d as Ce,e as De,A as $e,p as Fe,f as Me,g as Re}from"./index-Bay9h-2m.js";import{F as Q}from"./UserGroupIcon-D3WeXQmt.js";import{F as M}from"./ExclamationCircleIcon-CdqybNTP.js";import{F as Y}from"./ExclamationTriangleIcon-ChxHdgS_.js";import{F as Te}from"./BanknotesIcon-C_xO1O8w.js";import{F as Se}from"./ArrowTrendingDownIcon-BsZXKMrN.js";import{F as Z}from"./CalendarIcon-BwYi_s04.js";import{F as R}from"./ArrowDownTrayIcon-C-GP7aC4.js";import"./SessionTimeout-72mUHhjZ.js";import"./Modal-CTkSowC8.js";import"./transition-BcOJrHw_.js";import"./PrimaryButton-0XQdD5oU.js";import"./SecondaryButton-DbLXN_Wj.js";function Ee({title:n,titleId:i,...o},c){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":i},o),n?s.createElement("title",{id:i},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const T=s.forwardRef(Ee);function Ae({title:n,titleId:i,...o},c){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":i},o),n?s.createElement("title",{id:i},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"}))}const S=s.forwardRef(Ae);we.register(ve,Ne,ke,Ce,De,$e,Fe,Me,Re);function dr({memberCount:n=0,contributionSum:i=0,debtSum:o=0,penaltySum:c=0,disasterPaymentSum:p=0,beneficiaryCount:X=0,dependentCount:Pe=0,availableAmount:u=0,monthlyContributions:b=[],monthlyDebts:E=[],monthlyPenalties:y=[],monthlyDisasterPayments:j=[],recentContributions:ee=[],recentDebts:re=[],recentPenalties:I=[],recentDisasterPayments:te=[],topContributors:Ue=[],defaulters:ae=[],members:Le=[]}){var H,K,q;const[x,se]=s.useState("overview"),[de,f]=s.useState("contributions"),[g,w]=s.useState("csv"),[m,v]=s.useState(""),[h,N]=s.useState(""),[_e,Be]=s.useState(null),[Ve,Oe]=s.useState(""),[We,Ye]=s.useState("all"),[k,le]=s.useState("bar"),C=(r,t)=>{if(!r||r.length<2)return{trend:"0%",trendUp:!0};const a=`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}`,d=`${new Date().getFullYear()}-${String(new Date().getMonth()).padStart(2,"0")}`,P=r.find(B=>B.month===a),U=r.find(B=>B.month===d),pe=(P==null?void 0:P.total)||0,L=(U==null?void 0:U.total)||0;if(L===0)return{trend:"0%",trendUp:!0};const _=(pe-L)/L*100;return{trend:`${_>=0?"+":""}${_.toFixed(1)}%`,trendUp:_>=0}},ie=s.useMemo(()=>{const r=C(b),t=C(E),a=C(y),d=C(j);return[{title:"Total Members",value:n,icon:e.jsx(Q,{className:"w-8 h-8"}),color:"blue",trend:`${n} active`,trendUp:!0},{title:"Total Contributions",value:i,icon:e.jsx(F,{className:"w-8 h-8"}),color:"green",isCurrency:!0,trend:r.trend,trendUp:r.trendUp},{title:"Outstanding Debts",value:o,icon:e.jsx(M,{className:"w-8 h-8"}),color:"red",isCurrency:!0,trend:t.trend,trendUp:t.trendUp},{title:"Total Penalties",value:c,icon:e.jsx(Y,{className:"w-8 h-8"}),color:"yellow",isCurrency:!0,trend:a.trend,trendUp:a.trendUp},{title:"Disaster Payments",value:p,icon:e.jsx(V,{className:"w-8 h-8"}),color:"purple",isCurrency:!0,trend:d.trend,trendUp:d.trendUp},{title:"Available Funds",value:u,icon:e.jsx(Te,{className:"w-8 h-8"}),color:"emerald",isCurrency:!0,trend:`${(u/(i||1)*100).toFixed(1)}% of total`,trendUp:u>0}]},[n,i,o,c,p,u,b,E,y,j]),ne=[{id:"overview",name:"Overview",icon:O,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-50 dark:bg-blue-900/20"},{id:"contributions",name:"Contributions",icon:F,color:"text-green-600 dark:text-green-400",bgColor:"bg-green-50 dark:bg-green-900/20"},{id:"debts",name:"Debts",icon:M,color:"text-red-600 dark:text-red-400",bgColor:"bg-red-50 dark:bg-red-900/20"},{id:"penalties",name:"Penalties",icon:Y,color:"text-yellow-600 dark:text-yellow-400",bgColor:"bg-yellow-50 dark:bg-yellow-900/20"},{id:"disaster-payments",name:"Disaster Payments",icon:V,color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-50 dark:bg-purple-900/20"},{id:"analytics",name:"Analytics",icon:O,color:"text-indigo-600 dark:text-indigo-400",bgColor:"bg-indigo-50 dark:bg-indigo-900/20"}],J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],oe=new Date().getFullYear(),D=J.map((r,t)=>`${oe}-${String(t+1).padStart(2,"0")}`),ce=D.map(r=>{const t=b.find(a=>a.month===r);return t?t.total:0}),xe=D.map(r=>{const t=E.find(a=>a.month===r);return t?t.total:0}),ge=D.map(r=>{const t=y.find(a=>a.month===r);return t?t.total:0}),me=D.map(r=>{const t=j.find(a=>a.month===r);return t?t.total:0}),A={labels:J,datasets:[{label:"Contributions",data:ce,backgroundColor:"rgba(34, 197, 94, 0.7)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:2,tension:.4},{label:"Debts",data:xe,backgroundColor:"rgba(239, 68, 68, 0.7)",borderColor:"rgba(239, 68, 68, 1)",borderWidth:2,tension:.4},{label:"Penalties",data:ge,backgroundColor:"rgba(245, 158, 11, 0.7)",borderColor:"rgba(245, 158, 11, 1)",borderWidth:2,tension:.4},{label:"Disaster Payments",data:me,backgroundColor:"rgba(139, 92, 246, 0.7)",borderColor:"rgba(139, 92, 246, 1)",borderWidth:2,tension:.4}]},z={labels:["Contributions","Debts","Penalties","Disaster Payments"],datasets:[{data:[i,o,c,p],backgroundColor:["rgba(34, 197, 94, 0.8)","rgba(239, 68, 68, 0.8)","rgba(245, 158, 11, 0.8)","rgba(139, 92, 246, 0.8)"],borderColor:["rgba(34, 197, 94, 1)","rgba(239, 68, 68, 1)","rgba(245, 158, 11, 1)","rgba(139, 92, 246, 1)"],borderWidth:2}]},l=r=>new Intl.NumberFormat("en-TZ",{style:"currency",currency:"TZS",minimumFractionDigits:0,maximumFractionDigits:0}).format(r),he=r=>new Intl.NumberFormat("en-US").format(r),$=()=>{window.location.href=`/admin/report?type=${de}&format=${g}&start_date=${m}&end_date=${h}`};return e.jsxs(ue,{children:[e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 rounded-2xl p-8 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Reports & Analytics"}),e.jsx("p",{className:"text-blue-100 text-lg",children:"Comprehensive insights into your group's financial performance"})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx(be,{className:"w-20 h-20 text-blue-200"})})]})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:ie.map((r,t)=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:r.title}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r.isCurrency?l(r.value):he(r.value)}),e.jsxs("div",{className:"flex items-center mt-2",children:[r.trendUp?e.jsx(T,{className:"w-4 h-4 text-green-500 mr-1"}):e.jsx(Se,{className:"w-4 h-4 text-red-500 mr-1"}),e.jsx("span",{className:`text-sm font-medium ${r.trendUp?"text-green-600":"text-red-600"}`,children:r.trend}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs last month"})]})]}),e.jsx("div",{className:`p-3 rounded-xl bg-${r.color}-100 dark:bg-${r.color}-900/20`,children:e.jsx("div",{className:`text-${r.color}-600 dark:text-${r.color}-400`,children:r.icon})})]})},t))}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 mb-8",children:[e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:ne.map(r=>{const t=x===r.id,a=r.icon;return e.jsxs("button",{onClick:()=>se(r.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-all duration-300 ${t?`${r.color} ${r.bgColor} shadow-lg`:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50"} flex items-center space-x-2 px-4 py-3 rounded-t-xl`,children:[e.jsx(a,{className:"w-5 h-5"}),e.jsx("span",{children:r.name})]},r.id)})})}),e.jsxs("div",{className:"p-6",children:[x==="overview"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-800 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Monthly Financial Trends"}),e.jsx("div",{style:{height:"300px"},children:e.jsx(G,{data:A,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"}},x:{grid:{color:"rgba(0, 0, 0, 0.1)"}}}}})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-800 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Financial Distribution"}),e.jsx("div",{style:{height:"300px"},children:e.jsx(ye,{data:z,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-sm",children:"Collection Rate"}),e.jsx("p",{className:"text-2xl font-bold",children:"87.5%"})]}),e.jsx(T,{className:"w-8 h-8 text-green-200"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm",children:"Active Members"}),e.jsx("p",{className:"text-2xl font-bold",children:Math.round(n*.92)})]}),e.jsx(W,{className:"w-8 h-8 text-blue-200"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-100 text-sm",children:"Avg. Contribution"}),e.jsx("p",{className:"text-2xl font-bold",children:l(i/Math.max(n,1))})]}),e.jsx(F,{className:"w-8 h-8 text-purple-200"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-100 text-sm",children:"Recovery Rate"}),e.jsx("p",{className:"text-2xl font-bold",children:"73.2%"})]}),e.jsx(T,{className:"w-8 h-8 text-orange-200"})]})})]})]}),x==="contributions"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-sm",children:"Total Contributions"}),e.jsx("p",{className:"text-2xl font-bold",children:l(i)})]}),e.jsx(F,{className:"w-8 h-8 text-green-200"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm",children:"This Month"}),e.jsx("p",{className:"text-2xl font-bold",children:l(((H=b.find(r=>r.month===`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}`))==null?void 0:H.total)||0)})]}),e.jsx(Z,{className:"w-8 h-8 text-blue-200"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-100 text-sm",children:"Avg per Member"}),e.jsx("p",{className:"text-2xl font-bold",children:l(i/Math.max(n,1))})]}),e.jsx(Q,{className:"w-8 h-8 text-purple-200"})]})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-800 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(R,{className:"w-6 h-6 mr-2"}),"Export Contributions Report"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("select",{value:g,onChange:r=>w(r.target.value),className:"px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"csv",children:"CSV"}),e.jsx("option",{value:"xlsx",children:"Excel"}),e.jsx("option",{value:"pdf",children:"PDF"})]}),e.jsx("input",{type:"date",value:m,onChange:r=>v(r.target.value),className:"px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 text-gray-900 dark:text-white",placeholder:"Start Date"}),e.jsx("input",{type:"date",value:h,onChange:r=>N(r.target.value),className:"px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 text-gray-900 dark:text-white",placeholder:"End Date"}),e.jsx("button",{onClick:()=>{f("contributions"),$()},className:"px-6 py-3 text-sm font-semibold text-white bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105",children:"Export"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[e.jsx(S,{className:"w-6 h-6 mr-2"}),"Recent Contributions"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Member"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Type"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:ee.map((r,t)=>{var a,d;return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[(a=r.member)==null?void 0:a.first_name," ",(d=r.member)==null?void 0:d.surname]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:l(r.amount)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(r.date).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:r.type||"Regular"})})]},t)})})]})})]})]}),x==="debts"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-red-100 text-sm",children:"Total Outstanding"}),e.jsx("p",{className:"text-2xl font-bold",children:l(o)})]}),e.jsx(M,{className:"w-8 h-8 text-red-200"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-100 text-sm",children:"Defaulters"}),e.jsx("p",{className:"text-2xl font-bold",children:ae.length})]}),e.jsx(W,{className:"w-8 h-8 text-orange-200"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-yellow-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-100 text-sm",children:"Recovery Rate"}),e.jsx("p",{className:"text-2xl font-bold",children:"73.2%"})]}),e.jsx(T,{className:"w-8 h-8 text-yellow-200"})]})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-800 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(R,{className:"w-6 h-6 mr-2"}),"Export Debts Report"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("select",{value:g,onChange:r=>w(r.target.value),className:"px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"csv",children:"CSV"}),e.jsx("option",{value:"xlsx",children:"Excel"}),e.jsx("option",{value:"pdf",children:"PDF"})]}),e.jsx("input",{type:"date",value:m,onChange:r=>v(r.target.value),className:"px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 text-gray-900 dark:text-white"}),e.jsx("input",{type:"date",value:h,onChange:r=>N(r.target.value),className:"px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 text-gray-900 dark:text-white"}),e.jsx("button",{onClick:()=>{f("debts"),$()},className:"px-6 py-3 text-sm font-semibold text-white bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105",children:"Export"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[e.jsx(S,{className:"w-6 h-6 mr-2"}),"Outstanding Debts"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Member"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Due Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Description"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:re.map((r,t)=>{var a,d;return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[(a=r.member)==null?void 0:a.first_name," ",(d=r.member)==null?void 0:d.surname]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-semibold text-red-600 dark:text-red-400",children:l(r.amount)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:r.due_date?new Date(r.due_date).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${r.status==="paid"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:r.status||"Unpaid"})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400 max-w-xs truncate",children:r.description||"No description"})]},t)})})]})})]})]}),x==="penalties"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-yellow-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-100 text-sm",children:"Total Penalties"}),e.jsx("p",{className:"text-2xl font-bold",children:l(c)})]}),e.jsx(Y,{className:"w-8 h-8 text-yellow-200"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-100 text-sm",children:"This Month"}),e.jsx("p",{className:"text-2xl font-bold",children:l(((K=y.find(r=>r.month===`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}`))==null?void 0:K.total)||0)})]}),e.jsx(Z,{className:"w-8 h-8 text-orange-200"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-red-100 text-sm",children:"Pending Count"}),e.jsx("p",{className:"text-2xl font-bold",children:I.filter(r=>r.status!=="paid").length})]}),e.jsx(M,{className:"w-8 h-8 text-red-200"})]})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-800 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(R,{className:"w-6 h-6 mr-2"}),"Export Penalties Report"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("select",{value:g,onChange:r=>w(r.target.value),className:"px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-yellow-500 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"csv",children:"CSV"}),e.jsx("option",{value:"xlsx",children:"Excel"}),e.jsx("option",{value:"pdf",children:"PDF"})]}),e.jsx("input",{type:"date",value:m,onChange:r=>v(r.target.value),className:"px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-yellow-500 text-gray-900 dark:text-white"}),e.jsx("input",{type:"date",value:h,onChange:r=>N(r.target.value),className:"px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-yellow-500 text-gray-900 dark:text-white"}),e.jsx("button",{onClick:()=>{f("penalties"),$()},className:"px-6 py-3 text-sm font-semibold text-white bg-gradient-to-r from-yellow-600 to-yellow-700 hover:from-yellow-700 hover:to-yellow-800 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105",children:"Export"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[e.jsx(S,{className:"w-6 h-6 mr-2"}),"Recent Penalties"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Member"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Reason"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:I.map((r,t)=>{var a,d;return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[(a=r.member)==null?void 0:a.first_name," ",(d=r.member)==null?void 0:d.surname]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-semibold text-yellow-600 dark:text-yellow-400",children:l(r.amount)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(r.created_at).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${r.status==="paid"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:r.status||"Pending"})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400 max-w-xs truncate",children:r.reason||"No reason specified"})]},t)})})]})})]})]}),x==="disaster-payments"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-100 text-sm",children:"Total Payments"}),e.jsx("p",{className:"text-2xl font-bold",children:l(p)})]}),e.jsx(V,{className:"w-8 h-8 text-purple-200"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-indigo-100 text-sm",children:"Beneficiaries"}),e.jsx("p",{className:"text-2xl font-bold",children:X})]}),e.jsx(W,{className:"w-8 h-8 text-indigo-200"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-pink-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-pink-100 text-sm",children:"This Month"}),e.jsx("p",{className:"text-2xl font-bold",children:l(((q=j.find(r=>r.month===`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}`))==null?void 0:q.total)||0)})]}),e.jsx(Z,{className:"w-8 h-8 text-pink-200"})]})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-800 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(R,{className:"w-6 h-6 mr-2"}),"Export Disaster Payments Report"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("select",{value:g,onChange:r=>w(r.target.value),className:"px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"csv",children:"CSV"}),e.jsx("option",{value:"xlsx",children:"Excel"}),e.jsx("option",{value:"pdf",children:"PDF"})]}),e.jsx("input",{type:"date",value:m,onChange:r=>v(r.target.value),className:"px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 text-gray-900 dark:text-white"}),e.jsx("input",{type:"date",value:h,onChange:r=>N(r.target.value),className:"px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 text-gray-900 dark:text-white"}),e.jsx("button",{onClick:()=>{f("disaster_payments"),$()},className:"px-6 py-3 text-sm font-semibold text-white bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105",children:"Export"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[e.jsx(S,{className:"w-6 h-6 mr-2"}),"Recent Disaster Payments"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Member"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Description"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:te.map((r,t)=>{var a,d;return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[(a=r.member)==null?void 0:a.first_name," ",(d=r.member)==null?void 0:d.surname]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-semibold text-purple-600 dark:text-purple-400",children:l(r.amount)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(r.date).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",children:r.type||"Emergency"})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400 max-w-xs truncate",children:r.description||"No description"})]},t)})})]})})]})]}),x==="analytics"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-800 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[e.jsx(O,{className:"w-6 h-6 mr-2"}),"Data Visualization"]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("select",{value:k,onChange:r=>le(r.target.value),className:"px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"bar",children:"Bar Chart"}),e.jsx("option",{value:"line",children:"Line Chart"}),e.jsx("option",{value:"pie",children:"Pie Chart"})]})})]}),e.jsxs("div",{style:{height:"400px"},children:[k==="bar"&&e.jsx(je,{data:A,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"}},x:{grid:{color:"rgba(0, 0, 0, 0.1)"}}}}}),k==="line"&&e.jsx(G,{data:A,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"}},x:{grid:{color:"rgba(0, 0, 0, 0.1)"}}}}}),k==="pie"&&e.jsx(fe,{data:z,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"}}}})]})]})})]})]})]})}export{dr as default};
