import{r,i as pt,w as gt,c as N,R as F,u as We,a as ht,P as vt,C as xt,F as ae,b as wt,d as Fe,J as yt,t as Ct,j as i,S as ve}from"./app-D2e3E3XV.js";import{I as se,K as _e,u as Ce,b as bt,c as It,g as St,d as Et,m as jt,e as be,f as Ie,h as Mt,i as Ve,j as Ge,A as Rt,C as Nt,S as Xe,B as xe,a as $t}from"./AdminSidebarLayout-COqDSJm5.js";import{d as oe}from"./dayjs.min-sc-J1EWQ.js";import{B as Ot}from"./index-e_yviZel.js";import{B as Pt}from"./index-DN0Fc-0q.js";import{R as we}from"./StarOutlined-D_OSxQVx.js";import{T as Lt}from"./index-DlUzflYL.js";import{D as ue}from"./index-dYmfFck9.js";import{D as V}from"./index-m1LPvFb4.js";import{T as q}from"./index-m_fbIKNS.js";import{R as kt}from"./EditOutlined-DJbavOcF.js";import{R as At}from"./CalendarOutlined-D-3mNytr.js";import{R as zt}from"./InfoCircleOutlined-BrJJWW9d.js";import"./SessionTimeout-CfqEmPbo.js";import"./Modal-J3vqZBmM.js";import"./transition-BB8nYaSI.js";import"./PrimaryButton-CAxNNQMa.js";import"./SecondaryButton-DEXX7yh7.js";import"./DownOutlined-D3g4QtBj.js";import"./TextArea-Ba86vcsD.js";import"./getAllowClear-BoT9aE4f.js";var Tt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"};function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Se.apply(this,arguments)}const Yt=(e,t)=>r.createElement(se,Se({},e,{ref:t,icon:Tt})),Dt=r.forwardRef(Yt);var _t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ee.apply(this,arguments)}const Xt=(e,t)=>r.createElement(se,Ee({},e,{ref:t,icon:_t})),Bt=r.forwardRef(Xt);var Ht={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},je.apply(this,arguments)}const Zt=(e,t)=>r.createElement(se,je({},e,{ref:t,icon:Ht})),Wt=r.forwardRef(Zt);var Ft={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"};function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Me.apply(this,arguments)}const Vt=(e,t)=>r.createElement(se,Me({},e,{ref:t,icon:Ft})),Be=r.forwardRef(Vt);var Gt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};function Re(){return Re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Re.apply(this,arguments)}const Ut=(e,t)=>r.createElement(se,Re({},e,{ref:t,icon:Gt})),Qt=r.forwardRef(Ut);var Jt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ne.apply(this,arguments)}const Kt=(e,t)=>r.createElement(se,Ne({},e,{ref:t,icon:Jt})),qt=r.forwardRef(Kt),ge=r.createContext(null);function en(e){return new Promise(t=>{if(!e){t(!1);return}const n=document.createElement("img");n.onerror=()=>t(!1),n.onload=()=>t(!0),n.src=e})}function Ue(){const e=document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight;return{width:e,height:t}}const me={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function tn(e,t,n,o){const c=r.useRef(null),s=r.useRef([]),[a,l]=r.useState(me),f=p=>{l(me),pt(me,a)||o==null||o({transform:me,action:p})},d=(p,C)=>{c.current===null&&(s.current=[],c.current=gt(()=>{l(x=>{let g=x;return s.current.forEach(w=>{g={...g,...w}}),c.current=null,o==null||o({transform:g,action:C}),g})})),s.current.push({...a,...p})};return{transform:a,resetTransform:f,updateTransform:d,dispatchZoomChange:(p,C,x,g,w)=>{const{width:y,height:S,offsetWidth:u,offsetHeight:m,offsetLeft:E,offsetTop:b}=e.current;let I=p,v=a.scale*p;v>n?(v=n,I=n/a.scale):v<t&&(v=w?v:t,I=v/a.scale);const $=x??innerWidth/2,O=g??innerHeight/2,j=I-1,P=j*y*.5,A=j*S*.5,T=j*($-a.x-E),Y=j*(O-a.y-b);let k=a.x-(T-P),R=a.y-(Y-A);if(p<1&&v===1){const _=u*v,X=m*v,{width:z,height:M}=Ue();_<=z&&X<=M&&(k=0,R=0)}d({x:k,y:R,scale:v},C)}}}function He(e,t,n,o){const c=t+n,s=(n-o)/2;if(n>o){if(t>0)return{[e]:s};if(t<0&&c<o)return{[e]:-s}}else if(t<0||c>o)return{[e]:t<0?s:-s};return{}}function Qe(e,t,n,o){const{width:c,height:s}=Ue();let a=null;return e<=c&&t<=s?a={x:0,y:0}:(e>c||t>s)&&(a={...He("x",n,e,c),...He("y",o,t,s)}),a}const re=1,nn=1;function on(e,t,n,o,c,s,a){const{rotate:l,scale:f,x:d,y:h}=c,[p,C]=r.useState(!1),x=r.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),g=u=>{!t||u.button!==0||(u.preventDefault(),u.stopPropagation(),x.current={diffX:u.pageX-d,diffY:u.pageY-h,transformX:d,transformY:h},C(!0))},w=u=>{n&&p&&s({x:u.pageX-x.current.diffX,y:u.pageY-x.current.diffY},"move")},y=()=>{if(n&&p){C(!1);const{transformX:u,transformY:m}=x.current;if(!(d!==u&&h!==m))return;const b=e.current.offsetWidth*f,I=e.current.offsetHeight*f,{left:v,top:$}=e.current.getBoundingClientRect(),O=l%180!==0,j=Qe(O?I:b,O?b:I,v,$);j&&s({...j},"dragRebound")}},S=u=>{if(!n||u.deltaY==0)return;const m=Math.abs(u.deltaY/100),E=Math.min(m,nn);let b=re+E*o;u.deltaY>0&&(b=re/b),a(b,"wheel",u.clientX,u.clientY)};return r.useEffect(()=>{if(t){window.addEventListener("mouseup",y,!1),window.addEventListener("mousemove",w,!1);try{window.top!==window.self&&(window.top.addEventListener("mouseup",y,!1),window.top.addEventListener("mousemove",w,!1))}catch{}}return()=>{var u,m;window.removeEventListener("mouseup",y),window.removeEventListener("mousemove",w);try{(u=window.top)==null||u.removeEventListener("mouseup",y),(m=window.top)==null||m.removeEventListener("mousemove",w)}catch{}}},[n,p,d,h,l,t]),{isMoving:p,onMouseDown:g,onMouseMove:w,onMouseUp:y,onWheel:S}}function Je({src:e,isCustomPlaceholder:t,fallback:n}){const[o,c]=r.useState(t?"loading":"normal"),s=r.useRef(!1),a=o==="error";r.useEffect(()=>{let h=!0;return en(e).then(p=>{!p&&h&&c("error")}),()=>{h=!1}},[e]),r.useEffect(()=>{t&&!s.current?c("loading"):a&&c("normal")},[e]);const l=()=>{c("normal")};return[h=>{s.current=!1,o==="loading"&&(h!=null&&h.complete)&&(h.naturalWidth||h.naturalHeight)&&(s.current=!0,l())},a&&n?{src:n}:{onLoad:l,src:e},o]}function de(e,t){const n=e.x-t.x,o=e.y-t.y;return Math.hypot(n,o)}function rn(e,t,n,o){const c=de(e,n),s=de(t,o);if(c===0&&s===0)return[e.x,e.y];const a=c/(c+s),l=e.x+a*(t.x-e.x),f=e.y+a*(t.y-e.y);return[l,f]}function sn(e,t,n,o,c,s,a){const{rotate:l,scale:f,x:d,y:h}=c,[p,C]=r.useState(!1),x=r.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),g=u=>{x.current={...x.current,...u}},w=u=>{if(!t)return;u.stopPropagation(),C(!0);const{touches:m=[]}=u;m.length>1?g({point1:{x:m[0].clientX,y:m[0].clientY},point2:{x:m[1].clientX,y:m[1].clientY},eventType:"touchZoom"}):g({point1:{x:m[0].clientX-d,y:m[0].clientY-h},eventType:"move"})},y=u=>{const{touches:m=[]}=u,{point1:E,point2:b,eventType:I}=x.current;if(m.length>1&&I==="touchZoom"){const v={x:m[0].clientX,y:m[0].clientY},$={x:m[1].clientX,y:m[1].clientY},[O,j]=rn(E,b,v,$),P=de(v,$)/de(E,b);a(P,"touchZoom",O,j,!0),g({point1:v,point2:$,eventType:"touchZoom"})}else I==="move"&&(s({x:m[0].clientX-E.x,y:m[0].clientY-E.y},"move"),g({eventType:"move"}))},S=()=>{if(!n)return;if(p&&C(!1),g({eventType:"none"}),o>f)return s({x:0,y:0,scale:o},"touchZoom");const u=e.current.offsetWidth*f,m=e.current.offsetHeight*f,{left:E,top:b}=e.current.getBoundingClientRect(),I=l%180!==0,v=Qe(I?m:u,I?u:m,E,b);v&&s({...v},"dragRebound")};return r.useEffect(()=>{const u=m=>{m.preventDefault()};return n&&t&&window.addEventListener("touchmove",u,{passive:!1}),()=>{window.removeEventListener("touchmove",u)}},[n,t]),{isTouching:p,onTouchStart:w,onTouchMove:y,onTouchEnd:S}}function an(e){const{prefixCls:t,icon:n,onClick:o}=e;return r.createElement("button",{className:`${t}-close`,onClick:o},n)}function cn(e){const{prefixCls:t,showProgress:n,current:o,count:c,showSwitch:s,classNames:a,styles:l,icons:f,image:d,transform:h,countRender:p,actionsRender:C,scale:x,minScale:g,maxScale:w,onActive:y,onFlipY:S,onFlipX:u,onRotateLeft:m,onRotateRight:E,onZoomOut:b,onZoomIn:I,onClose:v,onReset:$}=e,{left:O,right:j,prev:P,next:A,flipY:T,flipX:Y,rotateLeft:k,rotateRight:R,zoomOut:_,zoomIn:X}=f,z=n&&r.createElement("div",{className:`${t}-progress`},p?p(o+1,c):r.createElement("bdi",null,`${o+1} / ${c}`)),M=`${t}-actions-action`,L=({type:te,disabled:ne,onClick:he,icon:ce})=>r.createElement("div",{key:te,className:N(M,`${M}-${te}`,{[`${M}-disabled`]:!!ne}),onClick:he},ce),B=s?L({icon:P??O,onClick:()=>y(-1),type:"prev",disabled:o===0}):void 0,H=s?L({icon:A??j,onClick:()=>y(1),type:"next",disabled:o===c-1}):void 0,G=L({icon:T,onClick:S,type:"flipY"}),U=L({icon:Y,onClick:u,type:"flipX"}),ee=L({icon:k,onClick:m,type:"rotateLeft"}),D=L({icon:R,onClick:E,type:"rotateRight"}),W=L({icon:_,onClick:b,type:"zoomOut",disabled:x<=g}),K=L({icon:X,onClick:I,type:"zoomIn",disabled:x===w}),Q=r.createElement("div",{className:N(`${t}-actions`,a.actions),style:l.actions},G,U,ee,D,W,K);return r.createElement("div",{className:N(`${t}-footer`,a.footer),style:l.footer},z,C?C(Q,{icons:{prevIcon:B,nextIcon:H,flipYIcon:G,flipXIcon:U,rotateLeftIcon:ee,rotateRightIcon:D,zoomOutIcon:W,zoomInIcon:K},actions:{onActive:y,onFlipY:S,onFlipX:u,onRotateLeft:m,onRotateRight:E,onZoomOut:b,onZoomIn:I,onReset:$,onClose:v},transform:h,current:o,total:c,image:d}):Q)}function ln(e){const{prefixCls:t,onActive:n,current:o,count:c,icons:{left:s,right:a,prev:l,next:f}}=e,d=`${t}-switch`;return r.createElement(r.Fragment,null,r.createElement("div",{className:N(d,`${d}-prev`,{[`${d}-disabled`]:o===0}),onClick:()=>n(-1)},l??s),r.createElement("div",{className:N(d,`${d}-next`,{[`${d}-disabled`]:o===c-1}),onClick:()=>n(1)},f??a))}function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},fe.apply(this,arguments)}const un=({fallback:e,src:t,imgRef:n,...o})=>{const[c,s]=Je({src:t,fallback:e});return F.createElement("img",fe({ref:a=>{n.current=a,c(a)}},o,s))},Ke=e=>{const{prefixCls:t,rootClassName:n,src:o,alt:c,imageInfo:s,fallback:a,movable:l=!0,onClose:f,open:d,afterOpenChange:h,icons:p={},closeIcon:C,getContainer:x,current:g=0,count:w=1,countRender:y,scaleStep:S=.5,minScale:u=1,maxScale:m=50,motionName:E="fade",imageRender:b,imgCommonProps:I,actionsRender:v,onTransform:$,onChange:O,classNames:j={},styles:P={},mousePosition:A,zIndex:T}=e,Y=r.useRef(),k=r.useContext(ge),R=k&&w>1,_=k&&w>=1,[X,z]=r.useState(!0),{transform:M,resetTransform:L,updateTransform:B,dispatchZoomChange:H}=tn(Y,u,m,$),{isMoving:G,onMouseDown:U,onWheel:ee}=on(Y,l,d,S,M,B,H),{isTouching:D,onTouchStart:W,onTouchMove:K,onTouchEnd:Q}=sn(Y,l,d,u,M,B,H),{rotate:te,scale:ne}=M;r.useEffect(()=>{X||z(!0)},[X]),r.useEffect(()=>{d||L("close")},[d]);const he=Z=>{d&&(ne!==1?B({x:0,y:0,scale:1},"doubleClick"):H(re+S,"doubleClick",Z.clientX,Z.clientY))},ce=F.createElement(un,fe({},I,{width:e.width,height:e.height,imgRef:Y,className:`${t}-img`,alt:c,style:{transform:`translate3d(${M.x}px, ${M.y}px, 0) scale3d(${M.flipX?"-":""}${ne}, ${M.flipY?"-":""}${ne}, 1) rotate(${te}deg)`,transitionDuration:(!X||D)&&"0s"},fallback:a,src:o,onWheel:ee,onMouseDown:U,onDoubleClick:he,onTouchStart:W,onTouchMove:K,onTouchEnd:Q,onTouchCancel:Q})),ke={url:o,alt:c,...s},ot=()=>{H(re+S,"zoomIn")},rt=()=>{H(re/(re+S),"zoomOut")},st=()=>{B({rotate:te+90},"rotateRight")},at=()=>{B({rotate:te-90},"rotateLeft")},it=()=>{B({flipX:!M.flipX},"flipX")},ct=()=>{B({flipY:!M.flipY},"flipY")},lt=()=>{L("reset")},le=Z=>{const J=g+Z;J>=0&&J<=w-1&&(z(!1),L(Z<0?"prev":"next"),O==null||O(J,g))},Ae=We(Z=>{if(d){const{keyCode:J}=Z;R&&(J===_e.LEFT?le(-1):J===_e.RIGHT&&le(1))}});r.useEffect(()=>{if(d)return window.addEventListener("keydown",Ae),()=>{window.removeEventListener("keydown",Ae)}},[d]);const[ut,ze]=r.useState(!1);F.useEffect(()=>{d&&ze(!0)},[d]);const mt=Z=>{Z||ze(!1),h==null||h(Z)},[Te,dt]=r.useState(!1);ht(()=>{d&&dt(!0)},[d]);const ft=({top:Z})=>{Z&&(f==null||f())},Ye={...P.body};return A&&(Ye.transformOrigin=`${A.x}px ${A.y}px`),F.createElement(vt,{open:Te&&d,autoDestroy:!1,getContainer:x,autoLock:ut,onEsc:ft},F.createElement(xt,{motionName:E,visible:Te&&d,motionAppear:!0,motionEnter:!0,motionLeave:!0,onVisibleChanged:mt},({className:Z,style:J})=>{const De={...P.root,...J};return T&&(De.zIndex=T),F.createElement("div",{className:N(t,n,j.root,Z,{[`${t}-moving`]:G}),style:De},F.createElement("div",{className:N(`${t}-mask`,j.mask),style:P.mask,onClick:f}),F.createElement("div",{className:N(`${t}-body`,j.body),style:Ye},b?b(ce,{transform:M,image:ke,...k?{current:g}:{}}):ce),C!==!1&&C!==null&&F.createElement(an,{prefixCls:t,icon:C===!0?p.close:C||p.close,onClick:f}),R&&F.createElement(ln,{prefixCls:t,current:g,count:w,icons:p,onActive:le}),F.createElement(cn,{prefixCls:t,showProgress:_,current:g,count:w,showSwitch:R,classNames:j,styles:P,image:ke,transform:M,icons:p,countRender:y,actionsRender:v,scale:ne,minScale:u,maxScale:m,onActive:le,onFlipY:ct,onFlipX:it,onRotateLeft:at,onRotateRight:st,onZoomOut:rt,onZoomIn:ot,onClose:f,onReset:lt}))}))},$e=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function mn(e){const[t,n]=r.useState({}),o=r.useCallback((s,a)=>(n(l=>({...l,[s]:a})),()=>{n(l=>{const f={...l};return delete f[s],f})}),[]);return[r.useMemo(()=>e?e.map(s=>{if(typeof s=="string")return{data:{src:s}};const a={};return Object.keys(s).forEach(l=>{["src",...$e].includes(l)&&(a[l]=s[l])}),{data:a}}):Object.keys(t).reduce((s,a)=>{const{canPreview:l,data:f}=t[a];return l&&s.push({data:f,id:a}),s},[]),[e,t]),o,!!e]}function Oe(){return Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Oe.apply(this,arguments)}const dn=({previewPrefixCls:e="rc-image-preview",classNames:t,styles:n,children:o,icons:c={},items:s,preview:a,fallback:l})=>{var k;const{open:f,onOpenChange:d,current:h,onChange:p,...C}=a&&typeof a=="object"?a:{},[x,g,w]=mn(s),[y,S]=Ce(0,h),[u,m]=r.useState(!1),{src:E,...b}=((k=x[y])==null?void 0:k.data)||{},[I,v]=Ce(!!f,f),$=We(R=>{v(R),R!==I&&(d==null||d(R,{current:y}))}),[O,j]=r.useState(null),P=r.useCallback((R,_,X,z)=>{const M=w?x.findIndex(L=>L.data.src===_):x.findIndex(L=>L.id===R);S(M<0?0:M),$(!0),j({x:X,y:z}),m(!0)},[x,w]);r.useEffect(()=>{I?u||S(0):m(!1)},[I]);const A=(R,_)=>{S(R),p==null||p(R,_)},T=()=>{$(!1),j(null)},Y=r.useMemo(()=>({register:g,onPreview:P}),[g,P]);return r.createElement(ge.Provider,{value:Y},o,r.createElement(Ke,Oe({"aria-hidden":!I,open:I,prefixCls:e,onClose:T,mousePosition:O,imgCommonProps:b,src:E,fallback:l,icons:c,current:y,count:x.length,onChange:A},C,{classNames:t==null?void 0:t.popup,styles:n==null?void 0:n.popup})))};let Ze=0;function fn(e,t){const[n]=r.useState(()=>(Ze+=1,String(Ze))),o=r.useContext(ge),c={data:t,canPreview:e};return r.useEffect(()=>{if(o)return o.register(n,c)},[]),r.useEffect(()=>{o&&o.register(n,c)},[e,t]),n}function ie(){return ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ie.apply(this,arguments)}const Le=e=>{const{prefixCls:t="rc-image",previewPrefixCls:n=`${t}-preview`,rootClassName:o,className:c,style:s,classNames:a={},styles:l={},width:f,height:d,src:h,alt:p,placeholder:C,fallback:x,preview:g=!0,onClick:w,onError:y,...S}=e,u=r.useContext(ge),m=!!g,{src:E,open:b,onOpenChange:I,cover:v,rootClassName:$,...O}=g&&typeof g=="object"?g:{},j=typeof v=="object"&&v.placement&&v.placement||"center",P=typeof v=="object"&&v.coverNode?v.coverNode:v,[A,T]=Ce(!!b,b),[Y,k]=r.useState(null),R=D=>{T(D),I==null||I(D)},_=()=>{R(!1)},X=C&&C!==!0,z=E??h,[M,L,B]=Je({src:h,isCustomPlaceholder:X,fallback:x}),H=r.useMemo(()=>{const D={};return $e.forEach(W=>{e[W]!==void 0&&(D[W]=e[W])}),D},$e.map(D=>e[D])),G=r.useMemo(()=>({...H,src:z}),[z,H]),U=fn(m,G),ee=D=>{const W=D.target.getBoundingClientRect(),K=W.x+W.width/2,Q=W.y+W.height/2;u?u.onPreview(U,z,K,Q):(k({x:K,y:Q}),R(!0)),w==null||w(D)};return r.createElement(r.Fragment,null,r.createElement("div",ie({},S,{className:N(t,o,a.root,{[`${t}-error`]:B==="error"}),onClick:m?ee:w,style:{width:f,height:d,...l.root}}),r.createElement("img",ie({},H,{className:N(`${t}-img`,{[`${t}-img-placeholder`]:C===!0},a.image,c),style:{height:d,...l.image,...s},ref:M},L,{width:f,height:d,onError:y})),B==="loading"&&r.createElement("div",{"aria-hidden":"true",className:`${t}-placeholder`},C),v!==!1&&m&&r.createElement("div",{className:N(`${t}-cover`,a.cover,`${t}-cover-${j}`),style:{display:(s==null?void 0:s.display)==="none"?"none":void 0,...l.cover}},P)),!u&&m&&r.createElement(Ke,ie({"aria-hidden":!A,open:A,prefixCls:n,onClose:_,mousePosition:Y,src:z,alt:p,imageInfo:{width:f,height:d},fallback:x,imgCommonProps:H},O,{classNames:a==null?void 0:a.popup,styles:l==null?void 0:l.popup,rootClassName:N($,o)})))};Le.PreviewGroup=dn;const qe=(e,t,n,o,c,s,a)=>{const[l]=bt("ImagePreview",e==null?void 0:e.zIndex),[f,d]=It(e==null?void 0:e.mask,t==null?void 0:t.mask,`${n}-preview`);return F.useMemo(()=>{if(!e)return e;const{cover:h,getContainer:p,closeIcon:C,rootClassName:x}=e,{closeIcon:g}=t??{};return{motionName:St(`${n}-preview`,"fade"),...e,...a?{cover:h??a}:{},icons:s,getContainer:p??c,zIndex:l,closeIcon:C??g,rootClassName:N(o,x),mask:f,blurClassName:d.mask}},[e,t,n,o,c,a,s,l,f,d])};function pn(e){return r.isValidElement(e)?[e,void 0]:typeof e=="boolean"||e&&typeof e=="object"?[void 0,e]:[void 0,void 0]}function pe(e){const t=r.useMemo(()=>typeof e=="boolean"?e?{}:null:e&&typeof e=="object"?e:{},[e]);return r.useMemo(()=>{if(!t)return[t,"",""];const{open:o,onOpenChange:c,cover:s,actionsRender:a,visible:l,onVisibleChange:f,rootClassName:d,maskClassName:h,mask:p,forceRender:C,destroyOnClose:x,toolbarRender:g,...w}=t;let y;c?y=c:f&&(y=(m,E)=>{const{current:b}=E||{};b!==void 0?f(m,!m,b):f(m,!m)});const[S,u]=pn(p);return[{...w,open:o??l,onOpenChange:y,cover:s??S,mask:u,actionsRender:a??g},d,h]},[t])}const et=e=>({position:e||"absolute",inset:0}),gn=e=>{const{componentCls:t,motionDurationSlow:n,colorTextLightSolid:o}=e;return{[t]:{[`${t}-cover`]:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:o,background:new ae("#000").setA(.3).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${n}`},"&:hover":{[`${t}-cover`]:{opacity:1}},[`${t}-cover-top`]:{inset:"0 0 auto 0",justifyContent:"center"},[`${t}-cover-bottom`]:{inset:"auto 0 0 0",justifyContent:"center"}}}},hn=e=>{const{motionEaseOut:t,previewCls:n,motionDurationSlow:o,componentCls:c,colorBgMask:s,marginXL:a,marginSM:l,margin:f,colorTextLightSolid:d,paddingSM:h,paddingLG:p,previewOperationHoverColor:C,previewOperationColorDisabled:x,previewOperationSize:g,zIndexPopup:w}=e,y=new ae(s).setA(.1),S=y.clone().setA(.2),u={position:"absolute",color:d,backgroundColor:y.toRgbString(),borderRadius:"50%",padding:h,outline:0,border:0,cursor:"pointer",transition:`all ${o}`,display:"flex",fontSize:g,"&:hover":{backgroundColor:S.toRgbString()},"&:active":{backgroundColor:y.toRgbString()}};return{[`${c}-preview`]:{textAlign:"center",inset:0,position:"fixed",userSelect:"none",zIndex:w,[`${n}-mask`]:{inset:0,position:"absolute",background:s,[`&${c}-preview-mask-blur`]:{backdropFilter:"blur(4px)"},[`&${c}-preview-mask-hidden`]:{display:"none"}},[`${n}-body`]:{...et(),"pointer-events":"none",display:"flex",alignItems:"center",justifyContent:"center","> *":{pointerEvents:"auto"}},[`${n}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${o} ${t} 0s`},[`&-moving ${n}-img`]:{cursor:"grabbing"},[`${n}-close`]:{...u,top:l,insetInlineEnd:l},[`${n}-switch`]:{...u,top:"50%",transform:"translateY(-50%)","&-disabled":{"&, &:hover, &:active":{color:x,background:"transparent",cursor:"not-allowed"}},"&-prev":{insetInlineStart:l},"&-next":{insetInlineEnd:l}},[`${n}-footer`]:{position:"absolute",bottom:a,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor,transform:"translateX(-50%)",gap:f},[`${n}-actions`]:{display:"flex",gap:h,padding:`0 ${wt(p)}`,backgroundColor:y.toRgbString(),borderRadius:100,fontSize:g,"&-action":{padding:h,cursor:"pointer",transition:`all ${o}`,display:"flex",[`&:not(${n}-actions-action-disabled):hover`]:{color:C},"&-disabled":{color:x,cursor:"not-allowed"}}}}}},vn=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-placeholder`]:{...et()}}}},xn=e=>{const{previewCls:t,motionDurationSlow:n}=e;return{[t]:{"&-fade":{transition:`opacity ${n}`,"&-enter, &-appear":{opacity:0,[`${t}-body`]:{transform:"scale(0)"},"&-active":{opacity:1,[`${t}-body`]:{transform:"scale(1)",transition:`transform ${n}`}}},"&-leave":{opacity:1,"&-active":{opacity:0,[`${t}-body`]:{transform:"scale(0)",transition:`transform ${n}`}}}}}}},wn=e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new ae(e.colorTextLightSolid).setA(.65).toRgbString(),previewOperationHoverColor:new ae(e.colorTextLightSolid).setA(.85).toRgbString(),previewOperationColorDisabled:new ae(e.colorTextLightSolid).setA(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5}),tt=Et("Image",e=>{const t=`${e.componentCls}-preview`,n=jt(e,{previewCls:t,imagePreviewSwitchSize:e.controlHeightLG});return[vn(n),gn(n),hn(n),xn(n)]},wn),Pe={rotateLeft:r.createElement(Bt,null),rotateRight:r.createElement(Wt,null),zoomIn:r.createElement(Qt,null),zoomOut:r.createElement(qt,null),close:r.createElement(Mt,null),left:r.createElement(Ie,null),right:r.createElement(be,null),flipX:r.createElement(Be,null),flipY:r.createElement(Be,{rotate:90})},yn=({previewPrefixCls:e,preview:t,classNames:n,styles:o,...c})=>{const{getPrefixCls:s,getPopupContainer:a,direction:l,preview:f,classNames:d,styles:h}=Fe("image"),p=s("image",e),C=`${p}-preview`,x=Ve(p),[g,w]=tt(p,x),y=N(g,w,x),[S,u,m]=pe(t),[E,b,I]=pe(f),v=r.useMemo(()=>({...Pe,left:l==="rtl"?r.createElement(be,null):r.createElement(Ie,null),right:l==="rtl"?r.createElement(Ie,null):r.createElement(be,null)}),[l]),$=qe(S,E,p,y,a,Pe),{mask:O,blurClassName:j}=$??{},P={...c,classNames:n,styles:o},[A,T]=Ge([d,n,{cover:N(I,m),popup:{root:N(b,u),mask:N({[`${p}-preview-mask-hidden`]:!O},j)}}],[h,o],{props:P},{popup:{_default:"root"}});return r.createElement(Le.PreviewGroup,{preview:$,previewPrefixCls:C,icons:v,...c,classNames:A,styles:T})},nt=e=>{const{prefixCls:t,preview:n,className:o,rootClassName:c,style:s,styles:a,classNames:l,wrapperStyle:f,fallback:d,...h}=e,{getPrefixCls:p,getPopupContainer:C,className:x,style:g,preview:w,styles:y,classNames:S,fallback:u}=Fe("image"),m=p("image",t),E=Ve(m),[b,I]=tt(m,E),v=N(c,b,I,E),$=N(o,b,x),[O,j,P]=pe(n),[A,T,Y]=pe(w),k=qe(O,A,m,v,C,Pe,!0),R={...e,preview:k},_=r.useMemo(()=>({cover:N(Y,P),popup:{root:N(T,j)}}),[j,P,T,Y]),{mask:X,blurClassName:z}=k??{},M=r.useMemo(()=>({mask:N({[`${m}-preview-mask-hidden`]:!X},z)}),[X,m,z]),L=r.useMemo(()=>[S,l,_,{popup:M}],[S,l,_,M]),[B,H]=Ge(L,[y,{root:f},a],{props:R},{popup:{_default:"root"}}),G={...g,...s},U=d??u;return r.createElement(Le,{prefixCls:m,preview:k||!1,rootClassName:v,className:$,style:G,fallback:U,...h,classNames:B,styles:H})};nt.PreviewGroup=yn;const{Title:ye,Paragraph:Cn}=Lt;function Hn(){var c;const{announcement:e}=yt().props,{token:t}=Ct.useToken(),n=s=>{const a={important:"red",event:"green",update:"blue",general:"default"},l={important:i.jsx(zt,{}),event:i.jsx(At,{}),update:i.jsx($t,{}),general:i.jsx(we,{})},f={important:"Important",event:"Event",update:"Update",general:"General"};return i.jsx(q,{color:a[s],icon:l[s],children:f[s]})},o=()=>e.status==="draft"?i.jsx(q,{color:"default",children:"Draft"}):e.status==="inactive"?i.jsx(q,{color:"warning",children:"Inactive"}):e.expires_at&&oe(e.expires_at).isBefore(oe())?i.jsx(q,{color:"error",children:"Expired"}):i.jsx(q,{color:"success",children:"Active"});return i.jsx(Rt,{children:i.jsxs("div",{style:{padding:"24px 0"},children:[i.jsx(Ot,{items:[{title:i.jsx("span",{onClick:()=>ve.visit(route("admin-portal.announcements.index")),style:{cursor:"pointer",color:t.colorPrimary},children:"Announcements"})},{title:e.title}],style:{marginBottom:"24px"}}),i.jsxs(Nt,{children:[i.jsxs("div",{style:{marginBottom:"24px"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[e.is_featured&&i.jsx(Pt,{count:i.jsx(we,{style:{color:t.colorWarning,fontSize:"20px"}})}),i.jsx(ye,{level:2,style:{margin:0},children:e.title})]}),i.jsxs(Xe,{size:"middle",children:[n(e.type),o()]})]}),i.jsx(ue,{}),i.jsxs("div",{style:{marginBottom:"24px"},children:[i.jsx(ye,{level:4,children:"Content"}),i.jsx(Cn,{style:{whiteSpace:"pre-wrap",fontSize:"15px"},children:e.content})]}),e.media_type!=="none"&&i.jsxs(i.Fragment,{children:[i.jsx(ue,{}),i.jsxs("div",{style:{marginBottom:"24px"},children:[i.jsx(ye,{level:4,children:"Media"}),e.media_type==="image"&&e.image_path&&i.jsxs("div",{children:[i.jsx(nt,{src:`/storage/${e.image_path}`,alt:e.image_alt_text||e.title,style:{maxWidth:"100%",maxHeight:"500px"}}),e.image_alt_text&&i.jsx("p",{style:{marginTop:"8px",color:t.colorTextSecondary,fontSize:"13px"},children:e.image_alt_text})]}),e.media_type==="video"&&e.video_path&&i.jsxs("video",{controls:!0,style:{maxWidth:"100%",maxHeight:"500px"},children:[i.jsx("source",{src:`/storage/${e.video_path}`,type:"video/mp4"}),"Your browser does not support the video tag."]}),e.media_type==="video_url"&&e.video_url&&i.jsx("div",{children:e.video_url.includes("youtube.com")||e.video_url.includes("youtu.be")?i.jsx("iframe",{width:"100%",height:"500",src:e.video_url.replace("watch?v=","embed/"),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):i.jsx("a",{href:e.video_url,target:"_blank",rel:"noopener noreferrer",children:i.jsx(xe,{icon:i.jsx(Dt,{}),children:"Watch Video"})})})]})]}),i.jsx(ue,{}),i.jsxs(V,{bordered:!0,column:2,children:[i.jsx(V.Item,{label:"Type",children:n(e.type)}),i.jsx(V.Item,{label:"Status",children:o()}),i.jsx(V.Item,{label:"Announcement Date",children:oe(e.announcement_date).format("DD MMM YYYY")}),i.jsx(V.Item,{label:"Expires At",children:e.expires_at?oe(e.expires_at).format("DD MMM YYYY"):"Never"}),e.link_url&&i.jsx(i.Fragment,{children:i.jsx(V.Item,{label:"Link URL",span:2,children:i.jsx("a",{href:e.link_url,target:"_blank",rel:"noopener noreferrer",children:e.link_text||e.link_url})})}),i.jsx(V.Item,{label:"Featured",children:e.is_featured?i.jsx(q,{color:"gold",icon:i.jsx(we,{}),children:"Yes"}):i.jsx(q,{children:"No"})}),i.jsx(V.Item,{label:"Sort Order",children:e.sort_order}),i.jsx(V.Item,{label:"Created By",children:(c=e.creator)==null?void 0:c.name}),i.jsx(V.Item,{label:"Created At",children:oe(e.created_at).format("DD MMM YYYY HH:mm")}),i.jsx(V.Item,{label:"Last Updated",span:2,children:oe(e.updated_at).format("DD MMM YYYY HH:mm")})]}),i.jsx(ue,{}),i.jsxs(Xe,{children:[i.jsx(xe,{type:"primary",icon:i.jsx(kt,{}),onClick:()=>ve.visit(route("admin-portal.announcements.index")),children:"Edit Announcement"}),i.jsx(xe,{onClick:()=>ve.visit(route("admin-portal.announcements.index")),children:"Back to Announcements"})]})]})]})})}export{Hn as default};
