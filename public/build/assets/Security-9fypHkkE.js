import{r as s,x as S,j as e}from"./app-CCWscn4N.js";import{S as P,e as R}from"./SidebarLayout-D4nqS7b6.js";import{F as _}from"./ArrowLeftIcon-Chvcx7Z8.js";import{F as E}from"./KeyIcon-BbLD4Rtz.js";import{F as m}from"./EyeIcon-DJbsJ0HV.js";import{F as g}from"./CheckCircleIcon-Ba1qBm0g.js";import{F as $}from"./GlobeAltIcon-Us73Crs8.js";import{F as U}from"./ExclamationTriangleIcon-ChxHdgS_.js";import{F as D}from"./DevicePhoneMobileIcon-CJbHbYxy.js";import{F as L}from"./ComputerDesktopIcon-H5fMKN-n.js";import"./SessionTimeout-72mUHhjZ.js";import"./Modal-CTkSowC8.js";import"./transition-BcOJrHw_.js";import"./PrimaryButton-0XQdD5oU.js";import"./SecondaryButton-DbLXN_Wj.js";function q({title:d,titleId:a,...l},o){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":a},l),d?s.createElement("title",{id:a},d):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const h=s.forwardRef(q);function Y({user:d,recentLogins:a}){const[l,o]=s.useState(!1),[i,w]=s.useState(!1),[n,p]=s.useState(!1),y=()=>window.location.pathname.startsWith("/admin/")?"/admin/dashboard":"/member/dashboard",b=()=>window.location.pathname.startsWith("/admin/")?"/admin/profile":"/member/profile",{data:c,setData:x,post:f,processing:u,errors:t,reset:j}=S({current_password:"",password:"",password_confirmation:""}),N=()=>window.location.pathname.startsWith("/admin/")?"/admin/profile/password":"/member/profile/password",k=r=>{r.preventDefault(),f(N(),{preserveScroll:!0,onSuccess:()=>{j()}})},v=r=>r.includes("Mobile")||r.includes("Android")||r.includes("iPhone")?e.jsx(D,{className:"w-5 h-5"}):e.jsx(L,{className:"w-5 h-5"}),C=r=>r.includes("Chrome")?"Chrome":r.includes("Firefox")?"Firefox":r.includes("Safari")?"Safari":r.includes("Edge")?"Edge":"Unknown Browser";return e.jsx(P,{children:e.jsxs("div",{className:"p-6 w-full",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsxs("a",{href:b(),className:"flex items-center text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200",children:[e.jsx(_,{className:"w-5 h-5 mr-2"}),"Back to Profile"]}),e.jsx("span",{className:"text-gray-400",children:"•"}),e.jsx("a",{href:y(),className:"flex items-center text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200",children:"Back to Dashboard"})]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Security Settings"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage your account security and login sessions"})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[e.jsx("div",{className:"xl:col-span-1",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6 h-fit",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(E,{className:"w-6 h-6 text-blue-600 mr-3"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Change Password"})]}),e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:l?"text":"password",value:c.current_password,onChange:r=>x("current_password",r.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!0}),e.jsx("button",{type:"button",onClick:()=>o(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:l?e.jsx(h,{className:"w-5 h-5"}):e.jsx(m,{className:"w-5 h-5"})})]}),t.current_password&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:t.current_password})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:i?"text":"password",value:c.password,onChange:r=>x("password",r.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!0}),e.jsx("button",{type:"button",onClick:()=>w(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:i?e.jsx(h,{className:"w-5 h-5"}):e.jsx(m,{className:"w-5 h-5"})})]}),t.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:t.password})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm New Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:n?"text":"password",value:c.password_confirmation,onChange:r=>x("password_confirmation",r.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!0}),e.jsx("button",{type:"button",onClick:()=>p(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:n?e.jsx(h,{className:"w-5 h-5"}):e.jsx(m,{className:"w-5 h-5"})})]}),t.password_confirmation&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:t.password_confirmation})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-200 mb-2",children:"Password Requirements:"}),e.jsxs("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[e.jsx("li",{children:"• At least 8 characters long"}),e.jsx("li",{children:"• Contains at least one uppercase letter"}),e.jsx("li",{children:"• Contains at least one lowercase letter"}),e.jsx("li",{children:"• Contains at least one number"}),e.jsx("li",{children:"• Contains at least one special character"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:u,className:"w-full sm:w-auto px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium rounded-lg transition-colors duration-200 flex items-center justify-center",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"w-5 h-5 mr-2"}),"Update Password"]})})})]})]})}),e.jsx("div",{className:"xl:col-span-1",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(R,{className:"w-6 h-6 text-green-600 mr-3"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Recent Login Activity"})]}),e.jsx("div",{className:"space-y-4",children:a&&a.length>0?a.map((r,F)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:v(r.user_agent)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:C(r.user_agent)}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[r.ip_address," • ",new Date(r.created_at).toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-center text-green-600 dark:text-green-400",children:[e.jsx(g,{className:"w-5 h-5 mr-1"}),e.jsx("span",{className:"text-sm font-medium",children:"Successful"})]})]},F)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx($,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No recent login activity"})]})})]})})]}),e.jsxs("div",{className:"mt-8 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(U,{className:"w-6 h-6 text-yellow-600 mr-3"}),e.jsx("h3",{className:"text-lg font-semibold text-yellow-900 dark:text-yellow-200",children:"Security Tips"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[e.jsxs("ul",{className:"text-sm text-yellow-800 dark:text-yellow-300 space-y-2",children:[e.jsx("li",{children:"• Use a strong, unique password for your account"}),e.jsx("li",{children:"• Never share your password with anyone"})]}),e.jsxs("ul",{className:"text-sm text-yellow-800 dark:text-yellow-300 space-y-2",children:[e.jsx("li",{children:"• Log out from shared or public computers"}),e.jsx("li",{children:"• Regularly review your login activity"})]}),e.jsxs("ul",{className:"text-sm text-yellow-800 dark:text-yellow-300 space-y-2",children:[e.jsx("li",{children:"• Contact support if you notice suspicious activity"}),e.jsx("li",{children:"• Enable two-factor authentication when available"})]})]})]})]})})}export{Y as default};
