import{r as o,R as i,c as S,e as ie,as as fe,ak as me}from"./app-CCWscn4N.js";import{u as de,a9 as pe,a1 as ge,aL as Ce,aD as xe,k as he,al as we,U as Se,l as ve,$ as Ee,am as be,an as ue,ap as le,aj as $e}from"./AdminSidebarLayout-BHFbP-0Z.js";import{u as ye,B as Re,r as ce,g as Ne}from"./getAllowClear-ggc3xdDv.js";function _(){return _=Object.assign?Object.assign.bind():function(s){for(var d=1;d<arguments.length;d++){var f=arguments[d];for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(s[l]=f[l])}return s},_.apply(this,arguments)}const Ie=o.forwardRef((s,d)=>{const{autoComplete:f,onChange:l,onFocus:c,onBlur:v,onPressEnter:E,onKeyDown:m,onKeyUp:b,prefixCls:p="rc-input",disabled:R,htmlSize:M,className:H,maxLength:q,suffix:O,showCount:G,count:K,type:B="text",classes:J,classNames:g,styles:C,onCompositionStart:T,onCompositionEnd:x,...Q}=s,[X,V]=o.useState(!1),k=o.useRef(!1),h=o.useRef(!1),n=o.useRef(null),t=o.useRef(null),N=e=>{n.current&&pe(n.current,e)},[I,$]=de(s.defaultValue,s.value),L=I==null?"":String(I),[D,Y]=o.useState(null),r=ye(K,G),y=r.max||q,F=r.strategy(L),Z=!!y&&F>y;o.useImperativeHandle(d,()=>{var e;return{focus:N,blur:()=>{var a;(a=n.current)==null||a.blur()},setSelectionRange:(a,A,w)=>{var u;(u=n.current)==null||u.setSelectionRange(a,A,w)},select:()=>{var a;(a=n.current)==null||a.select()},input:n.current,nativeElement:((e=t.current)==null?void 0:e.nativeElement)||n.current}}),o.useEffect(()=>{h.current&&(h.current=!1),V(e=>e&&R?!1:e)},[R]);const P=(e,a,A)=>{var u,oe;let w=a;if(!k.current&&r.exceedFormatter&&r.max&&r.strategy(a)>r.max)w=r.exceedFormatter(a,{max:r.max}),a!==w&&Y([((u=n.current)==null?void 0:u.selectionStart)||0,((oe=n.current)==null?void 0:oe.selectionEnd)||0]);else if(A.source==="compositionEnd")return;$(w),n.current&&ce(n.current,e,l,w)};o.useEffect(()=>{var e;D&&((e=n.current)==null||e.setSelectionRange(...D))},[D]);const U=e=>{P(e,e.target.value,{source:"change"})},ee=e=>{k.current=!1,P(e,e.currentTarget.value,{source:"compositionEnd"}),x==null||x(e)},z=e=>{E&&e.key==="Enter"&&!h.current&&!e.nativeEvent.isComposing&&(h.current=!0,E(e)),m==null||m(e)},te=e=>{e.key==="Enter"&&(h.current=!1),b==null||b(e)},W=e=>{V(!0),c==null||c(e)},se=e=>{h.current&&(h.current=!1),V(!1),v==null||v(e)},j=e=>{$(""),N(),n.current&&ce(n.current,e,l)},re=Z&&`${p}-out-of-range`,ae=()=>{const e=ge(s,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return i.createElement("input",_({autoComplete:f},e,{onChange:U,onFocus:W,onBlur:se,onKeyDown:z,onKeyUp:te,className:S(p,{[`${p}-disabled`]:R},g==null?void 0:g.input),style:C==null?void 0:C.input,ref:n,size:M,type:B,onCompositionStart:a=>{k.current=!0,T==null||T(a)},onCompositionEnd:ee}))},ne=()=>{const e=Number(y)>0;if(O||r.show){const a=r.showFormatter?r.showFormatter({value:L,count:F,maxLength:y}):`${F}${e?` / ${y}`:""}`;return i.createElement(i.Fragment,null,r.show&&i.createElement("span",{className:S(`${p}-show-count-suffix`,{[`${p}-show-count-has-suffix`]:!!O},g==null?void 0:g.count),style:{...C==null?void 0:C.count}},a),O)}return null};return i.createElement(Re,_({},Q,{prefixCls:p,className:S(H,re),handleReset:j,value:L,focused:X,triggerFocus:N,suffix:ne(),disabled:R,classes:J,classNames:g,styles:C,ref:t}),ae())});function Fe(s,d){const f=o.useRef([]),l=()=>{f.current.push(setTimeout(()=>{var c,v,E,m;(c=s.current)!=null&&c.input&&((v=s.current)==null?void 0:v.input.getAttribute("type"))==="password"&&((E=s.current)!=null&&E.input.hasAttribute("value"))&&((m=s.current)==null||m.input.removeAttribute("value"))}))};return o.useEffect(()=>(d&&l(),()=>f.current.forEach(c=>{c&&clearTimeout(c)})),[]),l}function Pe(s){return!!(s.prefix||s.suffix||s.allowClear||s.showCount)}const Be=o.forwardRef((s,d)=>{const{prefixCls:f,bordered:l=!0,status:c,size:v,disabled:E,onBlur:m,onFocus:b,suffix:p,allowClear:R,addonAfter:M,addonBefore:H,className:q,style:O,styles:G,rootClassName:K,onChange:B,classNames:J,variant:g,...C}=s,{getPrefixCls:T,direction:x,allowClear:Q,autoComplete:X,className:V,style:k,classNames:h,styles:n}=ie("input"),t=T("input",f),N=o.useRef(null),I=he(t),[$,L]=Ce(t,K);xe(t,I);const{compactSize:D,compactItemClassnames:Y}=we(t,x),r=Se(u=>v??D??u),y=i.useContext(fe),F=E??y,Z={...s,size:r,disabled:F},[P,U]=ve([h,J],[n,G],{props:Z}),{status:ee,hasFeedback:z,feedbackIcon:te}=o.useContext(Ee),W=$e(ee,c),se=Pe(s)||!!z;o.useRef(se);const j=Fe(N,!0),re=u=>{j(),m==null||m(u)},ae=u=>{j(),b==null||b(u)},ne=u=>{j(),B==null||B(u)},e=(z||p)&&i.createElement(i.Fragment,null,p,z&&te),a=Ne(R??Q),[A,w]=be("input",g,l);return i.createElement(Ie,{ref:me(d,N),prefixCls:t,autoComplete:X,...C,disabled:F,onBlur:re,onFocus:ae,style:{...U.root,...k,...O},styles:U,suffix:e,allowClear:a,className:S(q,K,L,I,Y,V,P.root),onChange:ne,addonBefore:H&&i.createElement(le,{form:!0,space:!0},H),addonAfter:M&&i.createElement(le,{form:!0,space:!0},M),classNames:{...P,input:S({[`${t}-sm`]:r==="small",[`${t}-lg`]:r==="large",[`${t}-rtl`]:x==="rtl"},P.input,$),variant:S({[`${t}-${A}`]:w},ue(t,W)),affixWrapper:S({[`${t}-affix-wrapper-sm`]:r==="small",[`${t}-affix-wrapper-lg`]:r==="large",[`${t}-affix-wrapper-rtl`]:x==="rtl"},$),wrapper:S({[`${t}-group-rtl`]:x==="rtl"},$),groupWrapper:S({[`${t}-group-wrapper-sm`]:r==="small",[`${t}-group-wrapper-lg`]:r==="large",[`${t}-group-wrapper-rtl`]:x==="rtl",[`${t}-group-wrapper-${A}`]:w},ue(`${t}-group-wrapper`,W,z),$)}})});export{Be as I,Fe as u};
